{"version":3,"file":"../common.js","names":["ANI_TIME_300","INTERVAL_1","INTERVAL_100","INTERVAL_1000","SHOW_HEADER_NUM","SCROLL_TIME","INVERTED","IPOPUP","iModal","mAlert","mHeader","iFull","fLayer","fFooter","IACCORDION","iAll","iOne","ACC_ALT_TXT","open","close","elTopArr","elTopRes","elemLenCheck","_el","okEl","length","i","document","querySelectorAll","addEventListener","event","target","readyState","commonInit","containerHidden","_state","GNB_CONTAINER_EL","getElementById","setAttribute","OPEN_POPUPS","rtime","timeout","DELTA","window","Date","setTimeout","resizeend","fullPopupState","modalHeaderPopupShadow","fullPopupResizeScrollbar","containerResizeScrollbar","containerResizeFloatingBtn","GNB_ELEM","gnbComn","_gnbEl","NAV_INIT","querySelector","popupStyle","GNB_BG_INIT","NAV","gnbClickEvent","_navEl","GNB_CLOSE_BTN","GNB_BG","GNB_ACC","navComnEvent","focus","navCloseEvent","_bgEl","classList","contains","add","_gnbBgEl","_gnbCloseBtn","_gnbAcc","GNB_CLOSE_ARR","remove","navTimeoutEvent","accordionAllClose","TAB_EL","tabCommonEvent","_elem","tabClickListAllShow","tabBarAnimation","tabEl","j","tabClickCheck","_wrap","_j","ipt","ipt_checked","tabClickEvent","_ipt","_ipt_checked","tabAltTxtInit","tabState","tabStateCheck","tabStateMove","tabScrollEvt","tagName","parentElement","checked","tabClickComn","_tabState","FOCUS_INPUT","clkElClickPopupChk","altEl","applyTabAltText","tabStatePanel","tabStateScroll","tabStateClick","closest","tabBarTouchAnimation","centerType","tabCenterCheck","tabCenterEvent","tabCase","_tabEl","A_TAG_CHECK","tabCenterState","altElBefore","createElement","innerText","insertBefore","HTMLElement","prototype","index","self","parentNode","parent","previousElementSibling","children","indexRes","Number","k","_tabWrap","SCROLL_WRAP","tabCenterComnEvent","_scrollWrap","tabLeft","offsetLeft","tabStyle","currentStyle","getComputedStyle","tabPadRes","parseInt","paddingLeft","paddingRight","tabWidth","clientWidth","tabDiff","scroll","left","behavior","TAB_LI_ELEM","aniEl","tabBarAnimationComn","_tabLiEl","_i","tab_chked_ipt","el","prefix","classes","className","split","filter","c","lastIndexOf","join","trim","idx","Array","indexOf","call","tabList","tabWrap","tabListEl","push","getAttribute","tabStatePanelEvent","AC","activeAC","tabAccInit","_tabList","panelEl","_panelEl","ACC_EL","ACC_HEADER","ACC_BODY","style","maxHeight","scrollHeight","tabAccClickEvt","_accEl","_accHead","_accBody","e","accordionType","accordionTypeCheck","bodyHeight","accButtonClickEvtComn","popHasElem","clkElClickPopupChkFull","clkElClickPopupChkFullFooter","_popHasElem","TAB_POP_BODY_EL","TAB_POP_CONT_EL","TAB_POP_BTN_EL","fullPopupScrollHeightCheck","TAB_POP_BTN_ELEM","fullPopupScrollHeightChk","TAB_ONE_WRAP","tabStateClickAraiControls","DATA_CASE","dataset","case","DATA_TAB_LIST","DATA_VIEW","DATA_WRAP","DATA_LIST","DATA_NULL_DATA","tablist","DATA_NULL_WRAP","DATA_NULL_LIST","TAB_ONE_TAB","onetab","TAB_ONE_PANEL","ONE_TARGET_TAB","TAB_WRAP","tabStateMoveConm","TAB_MOVE_LIST","tabStateMoveConmEvt","_tabMoveList","activeTab","moveTabActivity","_tab","TAB_WRAP_NAME","TAB_ATTR","moveTabActivityComn","_tabWrapName","_tabAttr","PANEL_SELECTOR","moveTabCenterScroll","_scrollBody","_activeEl","moveTabCenterScrollComn","dataTabList","DATA_TAB_PANEL","PANEL_VIEW_LIST","POPUP_ELEM","POPUP_BTN_ELEM","popupOpenEvent","_btnElem","OPENSTATE_POPUP","TARGET","CURRENT_POPUP","popupState","popupStateCheck","btnArr","map","focusFirstBtn","popupModalHeader","popupScrollTabCase","popupScrollCase","_popState","popCase","top","zIndex","visibility","innerHeight","popupBgClickEvt","POPUP_BG_ELEM","fullTabScrollChk","F_CONTAINER","F_Tab","F_HEADER","F_BODY","fullTabScrollEvt","_container","_header","_body","headerHeight","clientHeight","lastScrollTop","scrollArr","isScrolling","CONT_BOX","TIT","contBoxStyle","contBoxStyleRes","paddingTop","scrollRes","scrollTop","st","pageYOffset","console","log","clearTimeout","Math","max","apply","min","fullScrollChk","fullFooterScrollCheck","customScrollbar","F_BUTTON","fullScrollEvt","_fBtn","offsetHeight","fullScrollEvtInit","SCROLL_BODY","fullScrollEvtScroll","FF_CONTAINER","FF_HEADER","FF_BODY","FF_BUTTON","FF_FOOTER","fullFooterScrollEvent","fullNoFooterScrollEvent","_popEl","_footer","cHeight","hHeight","bHeight","fHeight","hRes","_btnEl","btnHeight","fullFooterScrollEndEvent","_scrollContainer","_buttonEl","_footerEl","scrollRight","scrollResUp","_popupEl","popupModalHeaderScroll","SCROLL_ELEM","POP_HEADER","popupModalHeaderScrollEvt","_scrollEl","_popHeader","POPUP_CLOSE_ELEM","popupCloseComn","_popupCloseEl","CLOSESTATE_POPUP","popupCloseTimeout","_target","focusCloseState","FOCUS_ELEM","id","focus_el","Object","FULL_POP_ELEM","_type","FULL_CONTAINER","FULL_HEADER","FULL_BODY","FULL_FOOTER","fullResizeEvent","bStyle","bhInit","paddingBottom","MODAL_HEADER_POPUP","FULL_POPUP","popupDirectClick","_popupBtnEl","ACCORDION_ELEM","accordionAltTxt","accordionAccessibility","BTN_OPEN","accButtonClickEvent","altElTxt","header","accTit","innerHTML","accordionAltTxtTouch","_altEl","_accWrap","_accType","accBodyEl","onclick","_e","_accBodyEl","_bodyHeight","accButtonTypeOneOpen","accButtonOpenClose","CONTAINER_EL","scrollTopFake","accButtonTypeOneOpenAllClose","ACC_WRAP","accOneList","TERMS_ELEM","termsComn","TERMS_INNER","termsInner","_inner","temrsRow","_row","TERMS_ROW","termsAppend","_rowEl","scrollEl","scrollInner","appendChild","termsScrollEvent","_scrollElem","TEXTAREA_ELEM","textareaComn","textareaScrollbar","INPUT_ELEM","inputComn","inputTypeState","inputTypeCase","inputFocusEvent","_input","inputCase","type","_inputEl","_inputState","inputFocusEvtComn","inputFocusEvtFloating","inputFocusEvtModal","elTop","elTopElem","offsetTop","PARENT_EL_FULL","PARENT_EL_HEADER","PARENT_EL_MODAL","MODAL_INNER","MODAL_HEADER","floatinPopup","floatingContainer","floatingBtn","inputFocusEvtFloatingBtn","_floatinPopup","_floatingContainer","_floatingBtn","CONTAINER_ELEM","FLEX_ELEM","MOVE_HEADER","containerScrollEvent","containerTabScrollEvent","_moveHeader","BTN_BOTTOM_FLOATING","CONTAINER_FOOTER","FLOATING_BLOCK_ARR","MARGIN_EL","previousSibling","marginBottom","blockEl","floatingBtnComn","MOVE_TOP_BTN_ELEM","scrollingFloatingBtn","floatingBtnInner","_this","S_HEADER","S_BTN","sort","a","b","ceil","CONTAINER_HEADER","CONTAINER_BTN","lRes","rRes","BTN_MOVE_TOP_ELEM","SCROLLING_ELEM","scrollToItemId","containerId","scrollContainer","from","by","currentIteration","animIterations","round","value","easeOutCubic","requestAnimationFrame","linearEase","startValue","changeInValue","totalIterations","pow","STICKYELM","tabOffsetTop","stickyElComn","_top","tabOffsetTopScroll","scrollElHeight","parseFloat","scrollStyleTop","innerStyleHeight","innerStyleHeightFull","innerStyleHeightFooter","scrollElHeightCon","innerStyleHeightCon","scrollDesignPopModalHeader","scrollDesignPopFullLayer","scrollDesignPopFullFooter","scrollDesignContainer","CUSTOMER_SCROLL","CUSTOMER_SCROLL_INNER","addStyle","scrollbarCreate","POPUP_SCROLL_ELEM","POPUP_HEADER","POPUP_BODY","fullLayerScrollbarComn","modalHeaderScrollbarComn","_scrollInner","_popScrollEl","height","scrollDesignScrollEvt","_sclBody","_sclBar","_sclThum","sclBarTop"],"sources":["common.js"],"sourcesContent":["'use strict';\r\n\r\n// = Common\r\n\r\n/**\r\n * common variable\r\n */\r\n// animation time\r\nconst ANI_TIME_300 = 301;\r\n\r\n// interval time\r\nconst INTERVAL_1 = 1;\r\nconst INTERVAL_100 = 100;\r\nconst INTERVAL_1000 = 1000;\r\n\r\n// scroll\r\nconst SHOW_HEADER_NUM = 100; // 이 숫자만큼 스크롤을 올려야 .co-header가 보임\r\nconst SCROLL_TIME = 0.5; // 초(second), 이 숫자만큼의 스피드로 scroll top 이동\r\nconst INVERTED = 55;\r\n\r\n/**\r\n * common interface\r\n */\r\n// POPUP\r\nconst IPOPUP = {\r\n  iModal: {\r\n    mAlert: 'mAlert',\r\n    mHeader: 'mHeader',\r\n  },\r\n  iFull: {\r\n    fLayer: 'fLayer',\r\n    fFooter: 'fFooter',\r\n  },\r\n};\r\n// ACCORDION\r\nconst IACCORDION = {\r\n  iAll: 'iAll',\r\n  iOne: 'iOne',\r\n};\r\nconst ACC_ALT_TXT = {\r\n  open: '버튼확장됨축소하려면이중탭하십시요',\r\n  close: '버튼축소됨확장하려면이중탭하십시요',\r\n};\r\n// container\r\nlet elTopArr = [];\r\nlet elTopRes = 0;\r\n\r\n/**\r\n * HTML element length check\r\n */\r\nfunction elemLenCheck(..._el) {\r\n  let okEl = 1;\r\n  if (_el.length > 0) {\r\n    for (let i = 0; i < _el.length; i++) {\r\n      if (document.querySelectorAll(_el[i]).length > 0) {\r\n        okEl += 1;\r\n        if (okEl === _el.length) {\r\n          okEl = 0;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * load event\r\n */\r\ndocument.addEventListener('readystatechange', (event) => {\r\n  // does same as:  ..addEventListener(\"DOMContentLoaded\"..\r\n  // When HTML/DOM elements are ready:\r\n  if (event.target.readyState === 'interactive') {\r\n  }\r\n\r\n  // When window loaded ( external resources are loaded too- css, src, etc...)\r\n  if (event.target.readyState === 'complete') {\r\n    commonInit();\r\n  }\r\n});\r\n\r\n/**\r\n * 접근성 공통\r\n */\r\n// #container -> aria-hidden: true || false\r\nfunction containerHidden(_state) {\r\n  const GNB_CONTAINER_EL = document.getElementById('container');\r\n  if (GNB_CONTAINER_EL) {\r\n    if (_state) {\r\n      GNB_CONTAINER_EL.setAttribute('aria-hidden', true);\r\n    } else {\r\n      let OPEN_POPUPS = document.querySelectorAll('.kmi-popup.show');\r\n      if (OPEN_POPUPS.length == 0) GNB_CONTAINER_EL.setAttribute('aria-hidden', false);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * common function\r\n */\r\nfunction commonInit() {\r\n  /**\r\n   * resize event\r\n   */\r\n  let rtime;\r\n  let timeout = false;\r\n  const DELTA = 10;\r\n  window.addEventListener('resize', function () {\r\n    rtime = new Date();\r\n    if (timeout === false) {\r\n      timeout = true;\r\n      setTimeout(resizeend, DELTA);\r\n    }\r\n  });\r\n  function resizeend() {\r\n    if (new Date() - rtime < DELTA) {\r\n      setTimeout(resizeend, DELTA);\r\n    } else {\r\n      timeout = false;\r\n      // resize end\r\n      // full popup이 있을 경우 하단 버튼 scroll 체크\r\n      fullPopupState();\r\n\r\n      // modal header popup: header shadow\r\n      modalHeaderPopupShadow();\r\n\r\n      // full layer popup: resize scrollbar\r\n      fullPopupResizeScrollbar();\r\n\r\n      // container resize scrollbar\r\n      containerResizeScrollbar();\r\n\r\n      // container resize bottom floating button\r\n      containerResizeFloatingBtn();\r\n    }\r\n  }\r\n  /**\r\n   * GNB\r\n   */\r\n  const GNB_ELEM = document.querySelectorAll('.btn-open-gnb');\r\n  if (GNB_ELEM.length > 0) for (let i = 0; i < GNB_ELEM.length; i++) gnbComn(GNB_ELEM[i]);\r\n\r\n  // + gnb common event\r\n  function gnbComn(_gnbEl) {\r\n    // 접근성 적용: aria-expanded\r\n    _gnbEl.setAttribute('aria-expanded', false);\r\n\r\n    // 초기세팅\r\n    const NAV_INIT = document.querySelector('.co-gnb');\r\n    if (NAV_INIT) {\r\n      popupStyle(NAV_INIT, 'hide');\r\n      NAV_INIT.setAttribute('aria-hidden', true);\r\n      const GNB_BG_INIT = NAV_INIT.querySelector('.gnb-bg');\r\n      if (GNB_BG_INIT) popupStyle(GNB_BG_INIT, 'hide');\r\n    }\r\n\r\n    // gnb button click event\r\n    _gnbEl.addEventListener('click', () => {\r\n      // 접근성 적용: aria-expanded\r\n      _gnbEl.setAttribute('aria-expanded', true);\r\n\r\n      // 전체메뉴 hide / show\r\n      const NAV = document.querySelector('.co-gnb');\r\n      if (NAV) gnbClickEvent(NAV, _gnbEl);\r\n    });\r\n  }\r\n  // + gnb open button click event\r\n  function gnbClickEvent(_navEl, _gnbEl) {\r\n    // 접근성 aria-hidden\r\n    _navEl.setAttribute('aria-hidden', false);\r\n\r\n    const GNB_CLOSE_BTN = _navEl.querySelector('.btn-close-gnb');\r\n    const GNB_BG = _navEl.querySelector('.gnb-bg');\r\n    const GNB_ACC = _navEl.querySelectorAll('.accordion');\r\n\r\n    if (GNB_CLOSE_BTN && GNB_BG && GNB_ACC.length > 0) {\r\n      // gnb 공통 event\r\n      navComnEvent(_navEl, GNB_BG);\r\n\r\n      // 접근성 focus\r\n      setTimeout(() => {\r\n        GNB_CLOSE_BTN.focus();\r\n      }, INTERVAL_1);\r\n\r\n      // 전체메뉴 닫기\r\n      navCloseEvent(_navEl, _gnbEl, GNB_BG, GNB_CLOSE_BTN, GNB_ACC);\r\n    }\r\n  }\r\n  // + gnb 공통 event\r\n  function navComnEvent(_navEl, _bgEl) {\r\n    if (!_navEl.classList.contains('show')) {\r\n      popupStyle(_navEl, 'show');\r\n      popupStyle(_bgEl, 'show');\r\n      _navEl.classList.add('show');\r\n\r\n      // 접근성: gnb 오픈 시 #container focus 막기\r\n      containerHidden(true);\r\n    }\r\n  }\r\n  // + 전체메뉴 닫기\r\n  function navCloseEvent(_navEl, _gnbEl, _gnbBgEl, _gnbCloseBtn, _gnbAcc) {\r\n    // 전체메뉴 닫기 element 배열 - .btn-close-gnb || .gnb-bg\r\n    const GNB_CLOSE_ARR = [_gnbBgEl, _gnbCloseBtn];\r\n    for (let i = 0; i < GNB_CLOSE_ARR.length; i++) {\r\n      GNB_CLOSE_ARR[i].addEventListener(\r\n        'click',\r\n        () => {\r\n          // 접근성 aria-hidden\r\n          _navEl.setAttribute('aria-hidden', true);\r\n\r\n          _navEl.classList.remove('show');\r\n          _gnbEl.setAttribute('aria-expanded', false);\r\n\r\n          // 접근성: gnb close 시 #container focus 풀기\r\n          containerHidden(false);\r\n\r\n          // setTimeout Event\r\n          navTimeoutEvent(_navEl, _gnbBgEl, _gnbAcc, _gnbEl);\r\n        },\r\n        false\r\n      );\r\n    }\r\n  }\r\n  // + 전체메뉴 닫은 후 setTimeout Event\r\n  function navTimeoutEvent(_navEl, _gnbBgEl, _gnbAcc, _gnbEl) {\r\n    setTimeout(() => {\r\n      popupStyle(_navEl, 'hide');\r\n      popupStyle(_gnbBgEl, 'hide');\r\n      // 아코디언 모두 닫힘\r\n      accordionAllClose(_gnbAcc);\r\n      // 접근성 focus\r\n      setTimeout(() => {\r\n        _gnbEl.focus();\r\n      }, INTERVAL_1);\r\n    }, ANI_TIME_300);\r\n  }\r\n\r\n  /**\r\n   * tab\r\n   */\r\n  const TAB_EL = document.querySelectorAll('ul.c-tab');\r\n  if (TAB_EL.length > 0) for (let i = 0; i < TAB_EL.length; i++) tabCommonEvent(TAB_EL[i]);\r\n\r\n  // tabCommonEvent\r\n  function tabCommonEvent(_elem) {\r\n    // panel 내용이 바뀌는 방식의 tab 일 경우\r\n    // 탭과 연동된 tab-click-list 모두 보임\r\n    tabClickListAllShow(_elem);\r\n\r\n    // 탭의 하단 bar가 animation되는 경우\r\n    if (_elem.classList.contains('type-basic')) tabBarAnimation(_elem);\r\n\r\n    let tabEl = _elem.querySelectorAll('li');\r\n    if (tabEl.length > 0) for (let j = 0; j < tabEl.length; j++) tabClickCheck(_elem, tabEl[j], j);\r\n  }\r\n  // + tab click check\r\n  function tabClickCheck(_wrap, _elem, _j) {\r\n    let ipt = _elem.querySelector('input[type=\"radio\"]') || _elem.querySelector('a.tab');\r\n    let ipt_checked = _elem.querySelector('input[type=\"radio\"]:checked') || _elem.querySelector('a.tab.active');\r\n    if (ipt) tabClickEvent(_wrap, ipt, _elem, _j, ipt_checked);\r\n  }\r\n  // ++ tab Click Event\r\n  function tabClickEvent(_wrap, _ipt, _elem, _j, _ipt_checked) {\r\n    // 접근성 : 대체텍스트 적용: 선택됨, 선택안됨\r\n    tabAltTxtInit(_elem, _ipt, _ipt_checked);\r\n\r\n    // tab 종류 체크\r\n    let tabState = tabStateCheck(_wrap);\r\n\r\n    // panel 내용이 바뀌는 방식의 tab 일 경우 + scroll Type\r\n    if (_wrap.classList.contains('type-move')) {\r\n      setTimeout(() => {\r\n        tabStateMove(_elem);\r\n      }, INTERVAL_1);\r\n    }\r\n    // [Mod [230220]]\r\n    if (_wrap.classList.contains('type-scroll')) {\r\n      setTimeout(() => {\r\n        tabScrollEvt();\r\n      }, INTERVAL_1);\r\n    }\r\n    // talkback event listener\r\n    // + 탭 터치 event\r\n    if (_ipt.tagName !== 'A' && _ipt.tagName !== 'a') {\r\n      _ipt.parentElement.addEventListener('click', () => {\r\n        _ipt.checked = true;\r\n        tabClickComn(_wrap, _elem, _ipt, tabState, _j);\r\n      });\r\n    } else {\r\n      _ipt.addEventListener('click', () => {\r\n        tabClickComn(_wrap, _elem, _ipt, tabState, _j);\r\n      });\r\n    }\r\n  }\r\n  // ++ tab click common\r\n  function tabClickComn(_wrap, _elem, _ipt, _tabState, _j) {\r\n    // focus 제거\r\n    const FOCUS_INPUT = document.querySelectorAll('.input-focus');\r\n    if (FOCUS_INPUT.length > 0) for (let i = 0; i < FOCUS_INPUT.length; i++) FOCUS_INPUT[i].classList.remove('input-focus');\r\n\r\n    // 팝업에서 tab 터치 시 팝업 c-container 높이가 변할 경우\r\n    // 애니메이션 타임: 100\r\n    // setTimeout(() => { clkElClickPopupCheck(_elem) }, INTERVAL_1);\r\n    setTimeout(() => {\r\n      clkElClickPopupChk(_elem);\r\n    }, INTERVAL_1);\r\n\r\n    // 대체텍스트 적용\r\n    if (_ipt.tagName !== 'A' && _ipt.tagName !== 'a') {\r\n      let altEl = _wrap.querySelectorAll('.alt-txt');\r\n      if (altEl.length > 0) applyTabAltText(_ipt, altEl, _j);\r\n    }\r\n    // hide / show 방식의 tab 일 경우\r\n    if (_tabState === 'hide-type') tabStatePanel(_elem);\r\n    // scroll 방식의 tab 일 경우\r\n    if (_tabState === 'scroll-type') tabStateScroll(_elem);\r\n    // panel 내용이 바뀌는 방식의 tab 일 경우\r\n    if (_tabState === 'click-type') tabStateClick(_elem);\r\n\r\n    // tab터치 시 tab의 하단 bar가 animation되는 경우\r\n    if (_ipt.closest('.c-tab').classList.contains('type-basic')) tabBarTouchAnimation(_elem);\r\n\r\n    // center 정렬 필요한 tab\r\n    let centerType = tabCenterCheck(_wrap);\r\n    if (centerType) tabCenterEvent(_wrap, _elem);\r\n  }\r\n  // +++ 탭 종류 체크\r\n  function tabStateCheck(_tabState) {\r\n    let tabCase = _tabState.classList;\r\n\r\n    // 탭 터치 시 페이지 이동되는 경우\r\n    if (tabCase.contains('type-move')) return 'move-type';\r\n    // 탭 터치 시 스크롤 되는 경우: scroll-type\r\n    if (tabCase.contains('type-scroll')) return 'scroll-type';\r\n    // 탭 터치 시 panel이 hide/show 되는 경우: hide-type\r\n    if (tabCase.contains('type-panel')) return 'hide-type';\r\n    // 탭 터치 시 panel안의 내용이 바뀌는 경우\r\n    if (tabCase.contains('type-click')) return 'click-type';\r\n  }\r\n  // +++ 탭 터치 시 center 정렬 필요한 경우\r\n  function tabCenterCheck(_tabEl) {\r\n    // a tag tab일 경우 실행 안함\r\n    const A_TAG_CHECK = _tabEl.querySelectorAll('li a');\r\n    if (A_TAG_CHECK.length > 0) return false;\r\n\r\n    let tabCenterState = _tabEl.classList;\r\n    if (tabCenterState.contains('type-basic') || tabCenterState.contains('type-move')) return false;\r\n    return true;\r\n  }\r\n  // +++ 터치 전 대체텍스트 적용 - 선택됨, 선택안됨\r\n  function tabAltTxtInit(_elem, _ipt, _ipt_checked) {\r\n    let altElBefore = document.createElement('span');\r\n    altElBefore.classList.add('alt-txt');\r\n    if (_ipt.tagName == 'A') {\r\n      if (_elem.closest('.c-tab').classList.contains('type-step')) {\r\n        altElBefore.innerText = '선택안됨페이지이동안됨이중탭하면팝업열림';\r\n        if (_ipt.classList.contains('active')) _ipt.setAttribute('title', '기능없는버튼');\r\n        else _ipt.setAttribute('title', '팝업열림');\r\n      } else {\r\n        altElBefore.innerText = '선택안됨이중탭시페이지이동';\r\n        if (_ipt.classList.contains('active')) _ipt.setAttribute('title', '기능없는버튼');\r\n        else _ipt.setAttribute('title', '페이지이동');\r\n      }\r\n    } else {\r\n      altElBefore.innerText = '선택안됨';\r\n    }\r\n\r\n    // if (_ipt.classList.contains('is-disable')) altElBefore.innerText = '선택안됨비활성화됨';\r\n    if (_ipt.classList.contains('is-disable')) {\r\n      altElBefore.innerText = '이중탭하면팝업열림';\r\n      _ipt.setAttribute('title', '팝업열림');\r\n    }\r\n\r\n    if (_ipt.classList.contains('is-save-data')) {\r\n      altElBefore.innerText = '이중탭하면페이지이동';\r\n      _ipt.setAttribute('title', '페이지이동');\r\n    }\r\n    _elem.insertBefore(altElBefore, _ipt);\r\n    if (_ipt_checked) _ipt_checked.parentElement.querySelector('.alt-txt').innerText = '선택됨';\r\n  }\r\n  // +++ 터치 시 대체텍스트 적용 - 선택됨, 선택안됨\r\n  function applyTabAltText(_ipt, _elem, _j) {\r\n    HTMLElement.prototype.index = function () {\r\n      let self = this.parentNode;\r\n      let parent = self.parentNode;\r\n      let i = 0;\r\n      while (self.previousElementSibling) {\r\n        i++;\r\n        self = self.previousElementSibling;\r\n      }\r\n      return this.parentNode === parent.children[i] ? i : -1;\r\n    };\r\n    let indexRes = Number(_ipt.index() - 1);\r\n    if (_ipt.closest('.c-tab').querySelector('.ico-plus')) {\r\n      // 탭 제일 왼쪽에 +버튼이 있는 경우\r\n      for (let k = 0; k < _elem.length; k++) _elem[k].innerText = '선택안됨';\r\n      _elem[indexRes].innerText = '선택됨';\r\n    } else {\r\n      for (let k = 0; k < _elem.length; k++) _elem[k].innerText = '선택안됨';\r\n      _elem[_j].innerText = '선택됨';\r\n    }\r\n  }\r\n  // +++ center 정렬 필요한 tab\r\n  function tabCenterEvent(_tabWrap, _tabEl) {\r\n    _tabEl.addEventListener('click', () => {\r\n      const SCROLL_WRAP = _tabEl.parentElement;\r\n      if (SCROLL_WRAP) tabCenterComnEvent(_tabEl, _tabWrap, SCROLL_WRAP);\r\n    });\r\n  }\r\n  // +++ center정렬 common event\r\n  function tabCenterComnEvent(_tabEl, _tabWrap, _scrollWrap) {\r\n    let tabLeft = _tabEl.offsetLeft;\r\n    let tabStyle = _tabWrap.currentStyle || window.getComputedStyle(_tabWrap);\r\n\r\n    let tabPadRes = parseInt(tabStyle.paddingLeft) + parseInt(tabStyle.paddingRight);\r\n    let tabWidth = _scrollWrap.clientWidth - tabPadRes;\r\n    let tabDiff = tabLeft - tabWidth / 2;\r\n    _scrollWrap.scroll({ left: tabDiff, behavior: 'smooth' });\r\n  }\r\n  // +++ tab의 하단 bar가 animation되는 경우\r\n  function tabBarAnimation(_tabWrap) {\r\n    const TAB_LI_ELEM = _tabWrap.querySelectorAll('li');\r\n    let aniEl = 0;\r\n    if (TAB_LI_ELEM.length > 0) {\r\n      for (let i = 0; i < TAB_LI_ELEM.length; i++) aniEl += 1;\r\n      _tabWrap.classList.add('tab-len-' + aniEl);\r\n      aniEl = 0;\r\n\r\n      for (let i = 0; i < TAB_LI_ELEM.length; i++) tabBarAnimationComn(TAB_LI_ELEM[i], i);\r\n    }\r\n  }\r\n  // +++ tabBarAnimation\r\n  function tabBarAnimationComn(_tabLiEl, _i) {\r\n    let tab_chked_ipt = _tabLiEl.querySelector('input[type=\"radio\"]:checked');\r\n    if (tab_chked_ipt) tab_chked_ipt.closest('.c-tab').classList.add('tab-active-' + _i);\r\n  }\r\n  // ++ tab터치 시 tab의 하단 bar가 animation되는 경우\r\n  function tabBarTouchAnimation(_elem) {\r\n    let el = _elem.parentElement;\r\n    let prefix = 'tab-active-';\r\n    let classes = el.className.split(' ').filter(function (c) {\r\n      return c.lastIndexOf(prefix, 0) !== 0;\r\n    });\r\n    el.className = classes.join(' ').trim();\r\n\r\n    let idx = Array.prototype.indexOf.call(el.children, _elem);\r\n    el.classList.add('tab-active-' + idx);\r\n  }\r\n  // +++ hide / show 방식의 tab 일 경우\r\n  function tabStatePanel(_elem) {\r\n    // aria-labelledby element의 removeClass: show\r\n    let tabList = [];\r\n    let tabWrap = _elem.closest('.c-tab');\r\n    let tabListEl = tabWrap.querySelectorAll('[role=\"tab\"]');\r\n    for (let i = 0; i < tabListEl.length; i++) tabList.push(tabListEl[i].getAttribute('aria-controls'));\r\n    if (tabList.length > 0) tabStatePanelEvent(tabList);\r\n\r\n    // 터치한 tab의 aria-controls와 동일한 aria-labelledby에게 addClass: show\r\n    let AC = _elem.getAttribute('aria-controls');\r\n    if (AC) {\r\n      let activeAC = document.querySelector('[aria-labelledby=' + AC + ']');\r\n      if (activeAC) activeAC.classList.add('show');\r\n      // .tabpanel.show에 있는 아코디언\r\n      if (activeAC) tabAccInit(activeAC);\r\n    }\r\n  }\r\n  function tabStatePanelEvent(_tabList) {\r\n    for (let i = 0; i < _tabList.length; i++) {\r\n      let panelEl = document.querySelector('[aria-labelledby=\"' + _tabList[i] + '\"]');\r\n      if (panelEl) if (panelEl.classList.contains('show')) panelEl.classList.remove('show');\r\n    }\r\n  }\r\n  function tabAccInit(_panelEl) {\r\n    if (_panelEl) {\r\n      const ACC_EL = _panelEl.querySelectorAll('.accordion');\r\n      if (ACC_EL.length > 0) {\r\n        for (let i = 0; i < ACC_EL.length; i++) {\r\n          const ACC_HEADER = ACC_EL[i].querySelector('.accordion-header');\r\n          const ACC_BODY = ACC_EL[i].querySelector('.accordion-body');\r\n          if (ACC_BODY && ACC_HEADER) {\r\n            if (ACC_EL[i].classList.contains('open')) ACC_BODY.style.maxHeight = ACC_BODY.scrollHeight + 'px';\r\n            else tabAccClickEvt(ACC_EL[i], ACC_HEADER, ACC_BODY);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  function tabAccClickEvt(_accEl, _accHead, _accBody) {\r\n    _accHead.addEventListener('click', function (e) {\r\n      let accordionType = accordionTypeCheck(_accEl);\r\n      let bodyHeight = _accBody.scrollHeight;\r\n      accButtonClickEvtComn(e, accordionType, _accEl, _accBody, bodyHeight);\r\n    });\r\n  }\r\n  function clkElClickPopupChk(_elem) {\r\n    let popHasElem = _elem.closest('.c-full-layer.show');\r\n    if (popHasElem) {\r\n      if (popHasElem.classList.contains('type-full')) clkElClickPopupChkFull(popHasElem);\r\n      if (popHasElem.classList.contains('type-full-footer')) clkElClickPopupChkFullFooter(popHasElem);\r\n    }\r\n  }\r\n  function clkElClickPopupChkFull(_popHasElem) {\r\n    const TAB_POP_BODY_EL = _popHasElem.querySelector('.full-body');\r\n    const TAB_POP_CONT_EL = _popHasElem.querySelector('.cont-box');\r\n    const TAB_POP_BTN_EL = _popHasElem.querySelector('.btn-floating');\r\n\r\n    if (TAB_POP_BODY_EL) TAB_POP_BODY_EL.classList.add('type-flex');\r\n    if (TAB_POP_CONT_EL) if (TAB_POP_CONT_EL.classList.contains('type-btn-floating')) TAB_POP_BTN_EL.classList.remove('.type-btn-floating');\r\n    if (TAB_POP_BTN_EL) {\r\n      if (TAB_POP_BTN_EL.classList.contains('isScroll')) TAB_POP_BTN_EL.classList.remove('isScroll');\r\n      if (TAB_POP_BTN_EL.classList.contains('isScrollEnd')) TAB_POP_BTN_EL.classList.remove('isScrollEnd');\r\n    }\r\n    fullPopupScrollHeightCheck('full', _popHasElem);\r\n  }\r\n  function clkElClickPopupChkFullFooter(_popHasElem) {\r\n    const TAB_POP_BTN_ELEM = _popHasElem.querySelector('.full-footer');\r\n    if (TAB_POP_BTN_ELEM) if (TAB_POP_BTN_ELEM.classList.contains('scroll')) TAB_POP_BTN_ELEM.classList.remove('scroll');\r\n    fullPopupScrollHeightChk('full-footer', _popHasElem);\r\n  }\r\n  // X XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n  // +++ 팝업에서 tab 터치 시 full 팝업 c-container 높이가 변할 경우\r\n  // function clkElClickPopupCheck(_elem) {\r\n  //   let popHasElem = _elem.closest('.c-full-layer.show');\r\n  //   if (popHasElem) {\r\n  //     const TAB_POP_BTN_ELEM = popHasElem.querySelector('.full-footer');\r\n  //     if (TAB_POP_BTN_ELEM) if (TAB_POP_BTN_ELEM.classList.contains('scroll')) TAB_POP_BTN_ELEM.classList.remove('scroll');\r\n\r\n  //     if (popHasElem.classList.contains('type-full')) fullPopupScrollHeightChk('full', popHasElem);\r\n  //     if (popHasElem.classList.contains('type-full-footer')) fullPopupScrollHeightChk('full-footer', popHasElem);\r\n  //   }\r\n  // }\r\n  // X XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n  // // 사용안함 +++ tab 터치 시 panel의 내용이 바뀌는 방식의 tab 일 경우\r\n  function tabStateClick(_elem) {\r\n    // panel의 aria-labelledby를 터치한 탭의 aria-controls로 변경\r\n    const TAB_ONE_WRAP = _elem.closest('.c-tab');\r\n    if (TAB_ONE_WRAP) tabStateClickAraiControls(TAB_ONE_WRAP);\r\n\r\n    // 사용안함\r\n    // tab의 data-case에 해당하는 panel의 data-view가 보여짐\r\n    const DATA_CASE = _elem.dataset.case;\r\n    const DATA_TAB_LIST = _elem.closest('.c-tab');\r\n    if (DATA_CASE && DATA_TAB_LIST) {\r\n      const DATA_VIEW = document.querySelectorAll('*[data-view=\"' + DATA_CASE + '\"]');\r\n      if (DATA_VIEW.length > 0) {\r\n        const DATA_WRAP = DATA_VIEW[0].closest('.tab-click-list');\r\n        if (DATA_WRAP) {\r\n          const DATA_LIST = DATA_WRAP.querySelectorAll('[data-view]');\r\n          if (DATA_LIST) {\r\n            for (let i = 0; i < DATA_LIST.length; i++) DATA_LIST[i].classList.remove('show');\r\n            for (let i = 0; i < DATA_VIEW.length; i++) DATA_VIEW[i].classList.add('show');\r\n          }\r\n        }\r\n      } else {\r\n        // 해당하는 리스트가 없는 경우\r\n        const DATA_NULL_DATA = DATA_TAB_LIST.dataset.tablist;\r\n        const DATA_NULL_WRAP = document.querySelector('[data-tabpanel=\"' + DATA_NULL_DATA + '\"]');\r\n        if (DATA_NULL_WRAP) {\r\n          const DATA_NULL_LIST = DATA_NULL_WRAP.querySelectorAll('[data-view]');\r\n          if (DATA_NULL_LIST.length > 0) for (let i = 0; i < DATA_NULL_LIST.length; i++) DATA_NULL_LIST[i].classList.remove('show');\r\n\r\n          // 전체 tab click\r\n          if (DATA_CASE === 'all') for (let i = 0; i < DATA_NULL_LIST.length; i++) DATA_NULL_LIST[i].classList.add('show');\r\n        }\r\n      }\r\n    }\r\n  }\r\n  function tabStateClickAraiControls() {\r\n    const TAB_ONE_TAB = TAB_ONE_WRAP.dataset.onetab;\r\n    if (TAB_ONE_TAB) {\r\n      const TAB_ONE_PANEL = document.querySelector('[data-onepanel=\"' + TAB_ONE_TAB + '\"]');\r\n      if (TAB_ONE_PANEL) {\r\n        const ONE_TARGET_TAB = _elem.getAttribute('aria-controls');\r\n        if (ONE_TARGET_TAB) TAB_ONE_PANEL.setAttribute('aria-labelledby', ONE_TARGET_TAB);\r\n      }\r\n    }\r\n  }\r\n  // +++ tab 터치 시 페이지 이동하는 tab 일 경우 or scroll 이동\r\n  function tabStateMove(_elem) {\r\n    const TAB_WRAP = _elem.closest('.c-tab');\r\n\r\n    if (TAB_WRAP) tabStateMoveConm(TAB_WRAP);\r\n  }\r\n  function tabStateMoveConm(_tabWrap) {\r\n    const TAB_MOVE_LIST = _tabWrap.querySelectorAll('li');\r\n\r\n    if (TAB_MOVE_LIST.length > 0) tabStateMoveConmEvt(TAB_MOVE_LIST, _tabWrap);\r\n  }\r\n  function tabStateMoveConmEvt(_tabMoveList, _tabWrap) {\r\n    for (let i = 0; i < _tabMoveList.length; i++) {\r\n      let activeTab = _tabMoveList[i].querySelectorAll('a.tab.active');\r\n\r\n      if (activeTab.length > 0) moveTabActivity(_tabWrap, _tabMoveList[i]);\r\n    }\r\n  }\r\n  function moveTabActivity(_wrap, _tab) {\r\n    if (_wrap && _tab) {\r\n      const TAB_WRAP_NAME = _wrap.dataset.tablist;\r\n\r\n      const TAB_ATTR = _tab.getAttribute('aria-controls');\r\n      if (TAB_WRAP_NAME && TAB_ATTR) moveTabActivityComn(TAB_WRAP_NAME, TAB_ATTR, _wrap, _tab);\r\n    }\r\n  }\r\n\r\n  function moveTabActivityComn(_tabWrapName, _tabAttr, _wrap, _tab) {\r\n    const PANEL_SELECTOR = document.querySelector('[data-panelname=\"' + _tabWrapName + '\"]');\r\n    if (PANEL_SELECTOR) {\r\n      PANEL_SELECTOR.setAttribute('aria-labelledby', _tabAttr);\r\n      // 선택된 tab 중앙 이동\r\n      moveTabCenterScroll(_wrap, _tab);\r\n    }\r\n  }\r\n  // + tab Click 시 스크롤 이동\r\n  function tabStateMoveConm(_tabWrap) {\r\n    const TAB_MOVE_LIST = _tabWrap.querySelectorAll('li');\r\n\r\n    if (TAB_MOVE_LIST.length > 0) tabStateMoveConmEvt(TAB_MOVE_LIST, _tabWrap);\r\n  }\r\n  // 선택된 tab 중앙 이동\r\n  function moveTabCenterScroll(_scrollBody, _activeEl) {\r\n    if (_scrollBody && _activeEl) moveTabCenterScrollComn(_activeEl, _scrollBody);\r\n  }\r\n  function moveTabCenterScrollComn(_activeEl, _scrollBody) {\r\n    let tabLeft = _activeEl.offsetLeft;\r\n    let tabStyle = _scrollBody.currentStyle || window.getComputedStyle(_scrollBody);\r\n    let tabPadRes = parseInt(tabStyle.paddingLeft) + parseInt(tabStyle.paddingRight);\r\n    let tabWidth = _scrollBody.clientWidth - tabPadRes;\r\n    let tabDiff = tabLeft - tabWidth / 2;\r\n\r\n    _scrollBody.scroll({ left: tabDiff, behavior: 'smooth' });\r\n  }\r\n  // 사용안함\r\n  // panel 내용이 바뀌는 방식의 tab 일 경우\r\n  // 탭과 연동된 tab-click-list 모두 보임\r\n  function tabClickListAllShow(_tabWrap) {\r\n    let dataTabList = _tabWrap.dataset.tablist;\r\n    if (dataTabList) {\r\n      const DATA_TAB_PANEL = document.querySelector('*[data-tabpanel=\"' + dataTabList + '\"]');\r\n      if (DATA_TAB_PANEL) {\r\n        const PANEL_VIEW_LIST = DATA_TAB_PANEL.querySelectorAll('*[data-view]');\r\n        if (PANEL_VIEW_LIST.length > 0) for (let i = 0; i < PANEL_VIEW_LIST.length; i++) PANEL_VIEW_LIST[i].classList.add('show');\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * popup\r\n   */\r\n  // 화면에 팝업이 있을 경우 공통 스타일 적용\r\n  // 팝업 필수 class: kmi-popup\r\n  const POPUP_ELEM = document.querySelectorAll('.kmi-popup');\r\n  // style\r\n  if (POPUP_ELEM.length > 0) for (let i = 0; i < POPUP_ELEM.length; i++) popupStyle(POPUP_ELEM[i], 'hide');\r\n  // 팝업 열림\r\n  const POPUP_BTN_ELEM = document.querySelectorAll('.btn-open-popup');\r\n  // popup open button - click event\r\n  if (POPUP_BTN_ELEM.length > 0)\r\n    for (let i = 0; i < POPUP_BTN_ELEM.length; i++)\r\n      POPUP_BTN_ELEM[i].addEventListener('click', () => {\r\n        popupOpenEvent(POPUP_BTN_ELEM[i], i);\r\n      });\r\n  // + popup open button click event\r\n  function popupOpenEvent(_btnElem, ..._i) {\r\n    const OPENSTATE_POPUP = document.querySelectorAll('.kmi-popup.show');\r\n    if (OPENSTATE_POPUP.length > 0) for (let i = 0; i < OPENSTATE_POPUP.length; i++) OPENSTATE_POPUP[i].setAttribute('aria-hidden', true);\r\n    const TARGET = _btnElem.getAttribute('data-target');\r\n    const CURRENT_POPUP = document.getElementById(TARGET);\r\n    CURRENT_POPUP.classList.add('show');\r\n    CURRENT_POPUP.setAttribute('aria-hidden', false);\r\n\r\n    // 접근성: popup 오픈 시 #container focus 막기\r\n    containerHidden(true);\r\n\r\n    // 팝업 종류 체크\r\n    let popupState = popupStateCheck(CURRENT_POPUP);\r\n\r\n    // style\r\n    let btnArr = 0;\r\n    if (OPENSTATE_POPUP.length > 0) btnArr = OPENSTATE_POPUP.length;\r\n    if (_i.length > 0) btnArr = _i.map((idx) => idx);\r\n    popupStyle(CURRENT_POPUP, 'show', _i.length > 0 ? btnArr[0] : btnArr);\r\n\r\n    // 접근성\r\n    focusFirstBtn(popupState, CURRENT_POPUP);\r\n\r\n    // 팝업 배경 click event\r\n    // 220923 - 현업 요청으로 제거\r\n    // popupBgClickEvt(CURRENT_POPUP);\r\n\r\n    // modal header type\r\n    popupModalHeader(popupState, CURRENT_POPUP);\r\n\r\n    // full type: floating tab 있는 full type 팝업이 스크롤 되는 경우\r\n    popupScrollTabCase(popupState, CURRENT_POPUP);\r\n\r\n    // full type: floating 버튼있는 full type 팝업이 스크롤 되는 경우\r\n    popupScrollCase(popupState, CURRENT_POPUP);\r\n  }\r\n  // + 팝업 종류 체크\r\n  function popupStateCheck(_popState) {\r\n    let popCase = _popState.classList;\r\n    // 모달 팝업: modal\r\n    if (popCase.contains('type-modal')) return 'modal';\r\n    // 푸터 없는 풀팝업: full\r\n    else if (popCase.contains('type-full')) return 'full';\r\n    // 푸터 있는 풀팝업: full-footer\r\n    else if (popCase.contains('type-full-footer')) return 'full-footer';\r\n  }\r\n  // + 팝업 style - top, z-index, visibility\r\n  function popupStyle(_elem, _state, ..._i) {\r\n    let indexRes = 0;\r\n    if (_i.length > 0) for (let i = 0; i < _i.length; i++) indexRes = _i[i];\r\n    switch (_state) {\r\n      case 'show':\r\n        _elem.style.top = 0;\r\n        _elem.style.zIndex = 2000 + indexRes;\r\n        _elem.style.visibility = 'visible';\r\n        break;\r\n      case 'hide':\r\n        _elem.style.top = window.innerHeight + 'px';\r\n        _elem.style.zIndex = '-1';\r\n        _elem.style.visibility = 'hidden';\r\n        break;\r\n      default:\r\n        _elem.style.top = window.innerHeight + 'px';\r\n        _elem.style.zIndex = '-1';\r\n        _elem.style.visibility = 'hidden';\r\n        break;\r\n    }\r\n  }\r\n  // + 팝업 배경 click event\r\n  function popupBgClickEvt(_elem) {\r\n    const POPUP_BG_ELEM = _elem.querySelector('.popup-bg');\r\n    if (POPUP_BG_ELEM) {\r\n      POPUP_BG_ELEM.addEventListener('click', () => {\r\n        // 팝업 닫힘\r\n        _elem.classList.remove('show');\r\n        _elem.setAttribute('aria-hidden', true);\r\n        // style - 사라지는 animation을 위해 setTimeout 사용\r\n        setTimeout(() => {\r\n          popupStyle(_elem, 'hide');\r\n        }, ANI_TIME_300);\r\n      });\r\n    }\r\n  }\r\n  function popupScrollTabCase(_state, _elem) {\r\n    if (_state === 'full') fullTabScrollChk(_elem);\r\n  }\r\n  function fullTabScrollChk(_elem) {\r\n    const F_CONTAINER = _elem.querySelector('.c-container');\r\n    if (F_CONTAINER) {\r\n      const F_Tab = F_CONTAINER.querySelector('.tab-floating');\r\n      const F_HEADER = F_CONTAINER.querySelector('.full-header');\r\n      const F_BODY = F_CONTAINER.querySelector('.full-body');\r\n      if (F_HEADER && F_BODY && F_Tab) fullTabScrollEvt(F_CONTAINER, F_Tab, F_HEADER, F_BODY);\r\n    }\r\n  }\r\n  function fullTabScrollEvt(_container, _tab, _header, _body) {\r\n    // scroll end check\r\n    let headerHeight = _header.clientHeight;\r\n    let lastScrollTop = 0;\r\n    let scrollArr = [];\r\n    var isScrolling;\r\n\r\n    _body.addEventListener('scroll', function () {\r\n      const CONT_BOX = _container.querySelector('.cont-box');\r\n      const TIT = _container.querySelector('.top-title-box');\r\n      if (CONT_BOX && TIT) {\r\n        let contBoxStyle = CONT_BOX.currentStyle || window.getComputedStyle(CONT_BOX);\r\n        let contBoxStyleRes = parseInt(contBoxStyle.paddingTop);\r\n        let scrollRes = this.clientHeight + _header.clientHeight + _tab.clientHeight + TIT.clientHeight + contBoxStyleRes;\r\n        if (this.scrollHeight > scrollRes) {\r\n          _container.closest('.kmi-popup.show').classList.add('type-floating');\r\n          if (this.scrollTop > headerHeight) {\r\n            let st = this.pageYOffset || this.scrollTop;\r\n            if (st > lastScrollTop) {\r\n              // SCROLL: DOWN\r\n              _container.classList.add('scroll-hide');\r\n              console.log(' scroll down');\r\n            } else {\r\n              // SCROLL: UP\r\n              scrollArr.push(st);\r\n\r\n              console.log('scroll up');\r\n\r\n              window.clearTimeout(isScrolling);\r\n              isScrolling = setTimeout(function () {\r\n                scrollArr = [];\r\n              }, 66);\r\n              if (Math.max.apply(Math, scrollArr) - Math.min.apply(Math, scrollArr) > SHOW_HEADER_NUM) {\r\n                _container.classList.remove('scroll-hide');\r\n                scrollArr = [];\r\n              }\r\n            }\r\n            lastScrollTop = st <= 0 ? 0 : st;\r\n            console.log('🚀 ~ file: common.js:796 ~ lastScrollTop', lastScrollTop);\r\n          }\r\n\r\n          if (this.scrollTop > TIT.clientHeight + _tab.clientHeight) _container.classList.add('isTop');\r\n          else _container.classList.remove('isTop');\r\n\r\n          if (this.scrollTop <= 0) {\r\n            _container.classList.remove('scroll-hide');\r\n            scrollArr = [];\r\n          }\r\n        } else _container.closest('.kmi-popup.show').classList.remove('type-floating');\r\n      }\r\n    });\r\n  }\r\n  // + full type: 스크롤 되는 경우 check\r\n  function popupScrollCase(_state, _elem) {\r\n    // if (_state === 'full') fullScrollCheck(_elem);\r\n    if (_state === 'full') fullScrollChk(_elem);\r\n    if (_state === 'full-footer') fullFooterScrollCheck(_elem);\r\n\r\n    // scroll event\r\n    if (_state === 'full' || _state === 'full-footer') customScrollbar(_elem, _state);\r\n  }\r\n  function fullScrollChk(_elem) {\r\n    const F_CONTAINER = _elem.querySelector('.c-container');\r\n    if (F_CONTAINER) {\r\n      const F_HEADER = F_CONTAINER.querySelector('.full-header');\r\n      const F_BODY = F_CONTAINER.querySelector('.full-body');\r\n      const F_BUTTON = F_CONTAINER.querySelector('.btn-floating');\r\n      if (F_HEADER && F_BODY && F_BUTTON) fullScrollEvt(F_CONTAINER, F_HEADER, F_BODY, F_BUTTON);\r\n    }\r\n  }\r\n  function fullScrollEvt(_container, _header, _body, _fBtn) {\r\n    // scroll end check\r\n    _body.classList.add('type-flex');\r\n    _fBtn.classList.remove('isScrollEnd');\r\n    if (_body.offsetHeight + _body.scrollTop >= _body.scrollHeight) _fBtn.classList.add('isScrollEnd');\r\n    if (_body.scrollHeight > _body.clientHeight + 72) {\r\n      _body.classList.remove('type-flex');\r\n      _fBtn.classList.add('isScroll');\r\n      _body.addEventListener('scroll', () => {\r\n        const SCROLL_WRAP = document.querySelector('.c-full-layer.kmi-popup.show');\r\n        if (SCROLL_WRAP) fullScrollEvtInit(SCROLL_WRAP, _fBtn);\r\n      });\r\n    } else {\r\n      _fBtn.classList.remove('isScroll');\r\n    }\r\n  }\r\n  function fullScrollEvtInit(_scrollWrap, _fBtn) {\r\n    const SCROLL_BODY = _scrollWrap.querySelector('.full-body');\r\n    if (SCROLL_BODY) fullScrollEvtScroll(SCROLL_BODY, _fBtn);\r\n  }\r\n  function fullScrollEvtScroll(_scrollBody, _fBtn) {\r\n    // scroll end check\r\n    let scrollRes = _scrollBody.offsetHeight + _scrollBody.scrollTop + 30;\r\n    // scroll down end\r\n    if (scrollRes >= _scrollBody.scrollHeight) _fBtn.classList.add('isScrollEnd');\r\n    else _fBtn.classList.remove('isScrollEnd');\r\n  }\r\n  // X XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n  // ++ full type 일 경우\r\n  // function fullScrollCheck(_elem) {\r\n  //   const F_CONTAINER = _elem.querySelector('.c-container');\r\n  //   if (F_CONTAINER) {\r\n  //     const F_HEADER = F_CONTAINER.querySelector('.full-header');\r\n  //     const F_BODY = F_CONTAINER.querySelector('.full-body');\r\n  //     const F_FOOTER = F_CONTAINER.querySelector('.full-footer');\r\n  //     // full-body가 스크롤 되는지 체크\r\n  //     if (F_HEADER && F_BODY && F_FOOTER) fullScrollEvent(F_CONTAINER, F_HEADER, F_BODY, F_FOOTER);\r\n  //   }\r\n  // }\r\n  // +++ full type의 container가 스크롤 될 경우\r\n  // function fullScrollEvent(_container, _header, _body, _footer) {\r\n  //   let bStyle = _body.currentStyle || window.getComputedStyle(_body);\r\n  //   let cHeight = _container.clientHeight;\r\n  //   let hHeight = _header.clientHeight;\r\n  //   // let bHeight = _body.scrollHeight;\r\n  //   let bhInit = parseInt(bStyle.paddingBottom);\r\n  //   let bHeight = (_body.clientHeight + bhInit) > _body.scrollHeight ? _body.clientHeight + bhInit : _body.scrollHeight;\r\n  //   let fHeight = _footer.clientHeight; // 100px || 72px\r\n  //   let hRes = cHeight - (hHeight + 72);\r\n  //   if (bHeight > hRes) {\r\n  //     // bottom fixed 버튼: 애니메이션 제거\r\n  //     // _footer.style.transition = 'none';\r\n  //     // footer addClass: scroll\r\n  //     _footer.classList.add('scroll');\r\n  //     // scroll end event check\r\n  //     fullScrollEndEvent(_container, _body, _footer);\r\n  //   }\r\n  // }\r\n  // ++++ scroll end event check\r\n  // function fullScrollEndEvent(_scrollContainer, _scrollBody, _buttonEl) {\r\n  //   // let scrollInit = 0;\r\n  //   _scrollBody.addEventListener('scroll', () => {\r\n  //     // bottom fixed 버튼: 애니메이션 적용\r\n  //     // _buttonEl.style.transition = 'padding .1s ease-in-out';\r\n  //     // scroll up\r\n  //     if (!timeout) {\r\n  //       // scroll end check\r\n  //       let scrollRes = _scrollBody.offsetHeight + _scrollBody.scrollTop;\r\n  //       // scroll down end\r\n  //       if (scrollRes >= _scrollBody.scrollHeight) _buttonEl.classList.remove('scroll');\r\n  //       if (scrollRes < _scrollBody.scrollHeight - 28) _buttonEl.classList.add('scroll');\r\n  //     }\r\n  //   });\r\n  // }\r\n  // X XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n  // ++ full footer type 일 경우\r\n  function fullFooterScrollCheck(_elem) {\r\n    const FF_CONTAINER = _elem.querySelector('.c-container');\r\n    if (FF_CONTAINER) {\r\n      const FF_HEADER = FF_CONTAINER.querySelector('.full-header');\r\n      const FF_BODY = FF_CONTAINER.querySelector('.full-body');\r\n      const FF_BUTTON = FF_CONTAINER.querySelector('.full-footer');\r\n      const FF_FOOTER = FF_CONTAINER.querySelector('.footer');\r\n\r\n      // fixed 버튼 있는 full-body가 스크롤 되는지 체크\r\n      if (FF_HEADER && FF_BODY && FF_BUTTON && FF_FOOTER) fullFooterScrollEvent(_elem, FF_CONTAINER, FF_HEADER, FF_BODY, FF_BUTTON, FF_FOOTER);\r\n      // fixed 버튼 없는 full-body가 스크롤 되는지 체크\r\n      if (FF_HEADER && FF_BODY && FF_FOOTER) fullNoFooterScrollEvent(_elem, FF_CONTAINER, FF_HEADER, FF_BODY, FF_FOOTER);\r\n    }\r\n  }\r\n  // +++ fixed 버튼 없는 full-body가 스크롤 되는지 체크\r\n  function fullNoFooterScrollEvent(_popEl, _container, _header, _body, _footer) {\r\n    let cHeight = _container.clientHeight;\r\n    let hHeight = _header.clientHeight;\r\n    let bHeight = _body.scrollHeight;\r\n    let fHeight = _footer.clientHeight;\r\n    let hRes = cHeight - (hHeight + fHeight);\r\n\r\n    if (bHeight > hRes) _popEl.classList.add('type-scroll');\r\n  }\r\n  // +++ fixed 버튼 있는 full-body가 스크롤 되는지 체크\r\n  function fullFooterScrollEvent(_popEl, _container, _header, _body, _btnEl, _footer) {\r\n    let cHeight = _container.clientHeight;\r\n    let hHeight = _header.clientHeight;\r\n    let bHeight = _body.scrollHeight;\r\n    let btnHeight = _btnEl.clientHeight; // 72px || 100px\r\n    let fHeight = _footer.clientHeight;\r\n    let hRes = cHeight - (hHeight + fHeight + btnHeight);\r\n\r\n    if (bHeight > hRes) {\r\n      // popup addClass: type-scroll\r\n      _popEl.classList.add('type-scroll');\r\n      // fixed button addClass: scroll\r\n      _btnEl.classList.add('scroll');\r\n      _container.scrollTop = 1;\r\n      setTimeout(() => {\r\n        _container.scrollTop = 0;\r\n      }, INTERVAL_1);\r\n      // scroll end event check\r\n      fullFooterScrollEndEvent(_container, _btnEl, _footer);\r\n    }\r\n  }\r\n  // ++++ scroll end event check\r\n  function fullFooterScrollEndEvent(_scrollContainer, _buttonEl, _footerEl) {\r\n    _scrollContainer.addEventListener('scroll', () => {\r\n      // scroll end check\r\n      let scrollRes = _scrollContainer.offsetHeight + _scrollContainer.scrollTop + 50;\r\n      let scrollRight = _scrollContainer.scrollHeight - _footerEl.clientHeight;\r\n      // scroll down end\r\n      if (scrollRes >= scrollRight) if (_buttonEl.classList.contains('scroll')) _buttonEl.classList.remove('scroll');\r\n      // scroll up\r\n      let scrollResUp = _scrollContainer.scrollHeight - _footerEl.clientHeight;\r\n      if (scrollRes < scrollResUp) if (!_buttonEl.classList.contains('scroll')) _buttonEl.classList.add('scroll');\r\n    });\r\n  }\r\n  // + modal header type\r\n  function popupModalHeader(_state, _popupEl) {\r\n    if (_state === 'modal') setTimeout(popupModalHeaderScroll, ANI_TIME_300, _popupEl, _state);\r\n  }\r\n  // ++ modal header type의 modal-field가 스크롤 되는지 체크\r\n  function popupModalHeaderScroll(_popEl, _state) {\r\n    const SCROLL_ELEM = _popEl.querySelector('.modal-field');\r\n    if (SCROLL_ELEM) {\r\n      const POP_HEADER = SCROLL_ELEM.querySelector('.c-modal-header');\r\n      if (POP_HEADER) {\r\n        if (SCROLL_ELEM.scrollHeight > SCROLL_ELEM.clientHeight) {\r\n          // scrollbar design\r\n          customScrollbar(_popEl, _state);\r\n\r\n          // scroll event\r\n          popupModalHeaderScrollEvt(SCROLL_ELEM, POP_HEADER);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // +++ modal header type의 modal-field가 스크롤 되는 경우\r\n  function popupModalHeaderScrollEvt(_scrollEl, _popHeader) {\r\n    _scrollEl.addEventListener('scroll', function () {\r\n      if (this.scrollTop <= 0) _popHeader.classList.remove('isScroll');\r\n      else _popHeader.classList.add('isScroll');\r\n    });\r\n  }\r\n  // 팝업 닫힘 - 닫힘버튼 class: popup-btn-close\r\n  const POPUP_CLOSE_ELEM = document.querySelectorAll('.popup-btn-close');\r\n  if (POPUP_CLOSE_ELEM.length > 0) popupCloseComn(POPUP_CLOSE_ELEM);\r\n\r\n  // + popup close\r\n  function popupCloseComn(_popupCloseEl) {\r\n    for (let i = 0; i < _popupCloseEl.length; i++) {\r\n      // popup close button - click event\r\n      _popupCloseEl[i].addEventListener('click', () => {\r\n        const CLOSESTATE_POPUP = document.querySelectorAll('.kmi-popup.show');\r\n        if (CLOSESTATE_POPUP.length > 0) for (let i = 0; i < CLOSESTATE_POPUP.length; i++) CLOSESTATE_POPUP[i].setAttribute('aria-hidden', false);\r\n\r\n        const TARGET = _popupCloseEl[i].closest('.kmi-popup');\r\n        TARGET.classList.remove('show');\r\n        TARGET.setAttribute('aria-hidden', true);\r\n\r\n        // 접근성: popup close 시 #container focus 풀기\r\n        containerHidden(false);\r\n\r\n        // style - 사라지는 animation을 위해 setTimeout 사용\r\n        setTimeout(() => {\r\n          popupCloseTimeout(TARGET);\r\n        }, ANI_TIME_300);\r\n      });\r\n    }\r\n  }\r\n  function popupCloseTimeout(_target) {\r\n    popupStyle(_target, 'hide');\r\n    focusCloseState(_target);\r\n  }\r\n  // 팝업: 접근성\r\n  // + 팝업 닫을 때 열었던 버튼에 focus 시키기\r\n  function focusCloseState(_elem) {\r\n    setTimeout(() => {\r\n      const FOCUS_ELEM = document.querySelector(`[data-target=\"${_elem.id}\"]`);\r\n      if (FOCUS_ELEM) FOCUS_ELEM.focus();\r\n    }, INTERVAL_1);\r\n  }\r\n  // + modal type 이면 X 버튼에 focus 시키기\r\n  // + full type 이면 뒤로가기 버튼에 focus 시키기\r\n  function focusFirstBtn(_state, _elem) {\r\n    setTimeout(() => {\r\n      let focus_el = new Object();\r\n      if (_state === 'full-footer' || _state === 'full') focus_el = _elem.querySelectorAll('.btn-go-back');\r\n      if (_state === 'modal') focus_el = _elem.querySelectorAll('.popup-cls-btn.popup-btn-close');\r\n\r\n      if (focus_el.length > 0)\r\n        setTimeout(() => {\r\n          focus_el[0].focus();\r\n        }, INTERVAL_1);\r\n    }, ANI_TIME_300);\r\n  }\r\n  // DOM에 풀팝업이 있을 경우\r\n  function fullPopupState() {\r\n    const FULL_POP_ELEM = document.querySelectorAll('.c-full-layer.show');\r\n    if (FULL_POP_ELEM.length > 0) {\r\n      for (let i = 0; i < FULL_POP_ELEM.length; i++) {\r\n        if (FULL_POP_ELEM[i].classList.contains('type-full')) fullPopupScrollHeightCheck('full', FULL_POP_ELEM[i]);\r\n        if (FULL_POP_ELEM[i].classList.contains('type-full-footer')) fullPopupScrollHeightChk('full-footer', FULL_POP_ELEM[i]);\r\n      }\r\n    }\r\n  }\r\n  // + resize: DOM에 팝업이 있는 경우\r\n  function fullPopupScrollHeightCheck(_type, _popEl) {\r\n    const F_CONTAINER = _popEl.querySelector('.c-container');\r\n    if (F_CONTAINER) {\r\n      const F_HEADER = F_CONTAINER.querySelector('.full-header');\r\n      const F_BODY = F_CONTAINER.querySelector('.full-body');\r\n      const F_BUTTON = F_CONTAINER.querySelector('.btn-floating');\r\n      if (F_HEADER && F_BODY && F_BUTTON) if (_type === 'full') fullScrollEvt(F_CONTAINER, F_HEADER, F_BODY, F_BUTTON);\r\n    }\r\n  }\r\n  // + resize: DOM에 팝업이 있는 경우\r\n  function fullPopupScrollHeightChk(_type, _popEl) {\r\n    const FULL_CONTAINER = _popEl.querySelector('.c-container');\r\n    if (FULL_CONTAINER) {\r\n      const FULL_HEADER = FULL_CONTAINER.querySelector('.full-header');\r\n      const FULL_BODY = FULL_CONTAINER.querySelector('.full-body');\r\n      const FULL_FOOTER = FULL_CONTAINER.querySelector('.full-footer');\r\n      // full type\r\n      if (_type === 'full') fullResizeEvent(FULL_CONTAINER, FULL_HEADER, FULL_BODY, FULL_FOOTER);\r\n    }\r\n  }\r\n  // ++ reize check\r\n  function fullResizeEvent(_container, _header, _body, _footer) {\r\n    let bStyle = _body.currentStyle || window.getComputedStyle(_body);\r\n    let cHeight = _container.clientHeight;\r\n    let hHeight = _header.clientHeight;\r\n    let bhInit = parseInt(bStyle.paddingBottom);\r\n    let bHeight = _body.clientHeight + bhInit > _body.scrollHeight ? _body.clientHeight + bhInit : _body.scrollHeight;\r\n    // let fHeight = _footer.clientHeight; // 100px || 72px\r\n    let fHeight = 72;\r\n    let hRes = cHeight - (hHeight + fHeight);\r\n\r\n    // footer addClass: scroll\r\n    if (bHeight > hRes) _footer.classList.add('scroll');\r\n    // footer removeClass: scroll\r\n    else _footer.classList.remove('scroll');\r\n\r\n    // reisze 했을 때 scroll이 최하단일 경우\r\n    if (_body.offsetHeight + _body.scrollTop >= _body.scrollHeight) _footer.classList.remove('scroll');\r\n  }\r\n  // resize: modal header popup shadow\r\n  function modalHeaderPopupShadow() {\r\n    const MODAL_HEADER_POPUP = document.querySelectorAll('.c-layer-popup.kmi-popup.type-modal.show');\r\n    if (MODAL_HEADER_POPUP.length > 0) for (let i = 0; i < MODAL_HEADER_POPUP.length; i++) customScrollbar(MODAL_HEADER_POPUP[i], 'modal');\r\n  }\r\n  // resize: full popup\r\n  function fullPopupResizeScrollbar() {\r\n    const FULL_POPUP = document.querySelectorAll('.c-full-layer.kmi-popup.show');\r\n    if (FULL_POPUP.length > 0) {\r\n      for (let i = 0; i < FULL_POPUP.length; i++) {\r\n        if (FULL_POPUP[i].classList.contains('type-full')) customScrollbar(FULL_POPUP[i], 'full');\r\n        if (FULL_POPUP[i].classList.contains('type-full-footer')) customScrollbar(FULL_POPUP[i], 'full-footer');\r\n      }\r\n    }\r\n  }\r\n  // 팝업 열림 버튼을 직접 click할 경우\r\n  function popupDirectClick(_popupBtnEl) {\r\n    popupOpenEvent(_popupBtnEl);\r\n  }\r\n\r\n  /**\r\n   * accordion\r\n   */\r\n  const ACCORDION_ELEM = document.querySelectorAll('.accordion');\r\n  if (ACCORDION_ELEM.length > 0) {\r\n    for (let i = 0; i < ACCORDION_ELEM.length; i++) {\r\n      // 아코디언 타입체크\r\n      let accordionType = accordionTypeCheck(ACCORDION_ELEM[i]);\r\n\r\n      // 접근성\r\n      accordionAltTxt(ACCORDION_ELEM[i]);\r\n      accordionAccessibility(ACCORDION_ELEM[i]);\r\n      const BTN_OPEN = ACCORDION_ELEM[i].querySelectorAll('.accordion-header');\r\n      // acc button click event\r\n      if (BTN_OPEN.length > 0) accButtonClickEvent(ACCORDION_ELEM[i], BTN_OPEN[0], accordionType);\r\n    }\r\n  }\r\n\r\n  // + 아코디언 타입 체크: 하나만 보이는 타입, 모두 보이는 타입\r\n  function accordionTypeCheck(_accEl) {\r\n    if (_accEl.classList.contains('type-open-one')) return 'type-one-open';\r\n    return 'type-multi-open';\r\n  }\r\n  // + 접근성: 대체텍스트\r\n  function accordionAltTxt(_elem) {\r\n    if (_elem.classList.contains('type-inner-btn')) {\r\n      let altElTxt = document.createElement('em');\r\n      altElTxt.classList.add('alt-txt');\r\n      altElTxt.setAttribute('role', 'button');\r\n      let header = _elem.querySelector('.accordion-header');\r\n      let accTit = header.querySelector('.acc-tit');\r\n      header.insertBefore(altElTxt, accTit);\r\n      _elem.classList.contains('open') ? (altElTxt.innerHTML = ACC_ALT_TXT.open) : (altElTxt.innerHTML = ACC_ALT_TXT.close);\r\n    }\r\n  }\r\n  // + 접근성: 아코디언 터치 시 대체텍스트\r\n  function accordionAltTxtTouch(_altEl, _state) {\r\n    switch (_state) {\r\n      case true:\r\n        _altEl.innerHTML = ACC_ALT_TXT.open;\r\n        break;\r\n      default:\r\n        _altEl.innerHTML = ACC_ALT_TXT.close;\r\n        break;\r\n    }\r\n  }\r\n  // + 접근성: aria-expanded\r\n  function accordionAccessibility(_elem) {\r\n    if (_elem.classList.contains('open')) {\r\n      _elem.querySelector('.accordion-header').setAttribute('aria-expanded', true);\r\n      _elem.querySelector('.accordion-body').setAttribute('tabindex', 0);\r\n      _elem.querySelector('.accordion-body').setAttribute('aria-hidden', false);\r\n      if (_elem.classList.contains('type-inner-btn')) if (_elem.querySelector('.alt-txt')) accordionAltTxtTouch(_elem.querySelector('.alt-txt'), true);\r\n    } else {\r\n      _elem.querySelector('.accordion-header').setAttribute('aria-expanded', 'false');\r\n      _elem.querySelector('.accordion-body').setAttribute('tabindex', -1);\r\n      _elem.querySelector('.accordion-body').setAttribute('aria-hidden', true);\r\n      if (_elem.classList.contains('type-inner-btn')) if (_elem.querySelector('.alt-txt')) accordionAltTxtTouch(_elem.querySelector('.alt-txt'), false);\r\n    }\r\n  }\r\n  // + acc button click event\r\n  function accButtonClickEvent(_accWrap, _elem, _accType) {\r\n    let bodyHeight = 0;\r\n    setTimeout(() => {\r\n      let accBodyEl = _accWrap.querySelector('.accordion-body');\r\n      bodyHeight = accBodyEl.scrollHeight;\r\n\r\n      // 열려있는 아코디언이 있을 경우\r\n      if (_accWrap.classList.contains('open')) _accWrap.querySelector('.accordion-body').style.maxHeight = bodyHeight + 'px';\r\n      _elem.onclick = function (e) {\r\n        accButtonClickEvtComn(e, _accType, _accWrap, accBodyEl, bodyHeight);\r\n      };\r\n    }, INTERVAL_100);\r\n  }\r\n  function accButtonClickEvtComn(_e, _accType, _accWrap, _accBodyEl, _bodyHeight) {\r\n    // 터치하는 영역이 '비교하기' 버튼이 아닐 경우 - 아코디언 hide / show\r\n    // 터치하는 영역이 물음표 아이콘이 아닐 경우 - 아코디언 hide / show\r\n    if (!_e.target.parentElement.classList.contains('co-btn') && !_e.target.classList.contains('co-btn') && !_e.target.classList.contains('ico-ques')) {\r\n      accButtonTypeOneOpen(_accType, _accWrap);\r\n      accButtonOpenClose(_accWrap, _accBodyEl);\r\n      // 접근성\r\n      accordionAccessibility(_accWrap);\r\n      // btn-bottom-floating check\r\n      setTimeout(() => {\r\n        const CONTAINER_EL = document.getElementById('container');\r\n        if (CONTAINER_EL) scrollTopFake(CONTAINER_EL);\r\n      }, ANI_TIME_300);\r\n    }\r\n  }\r\n  function accButtonTypeOneOpen(_accType, _accWrap) {\r\n    // 터치 시 하나만 보이는 타입\r\n    if (_accType === 'type-one-open') {\r\n      // 아코디언이 열려있으면\r\n      if (!_accWrap.classList.contains('open')) accButtonTypeOneOpenAllClose(_accWrap);\r\n    }\r\n  }\r\n  function accButtonTypeOneOpenAllClose(_accWrap) {\r\n    const ACC_WRAP = _accWrap.closest('.accordion-list');\r\n    if (ACC_WRAP) {\r\n      // 아코디언 모두 닫기\r\n      let accOneList = ACC_WRAP.querySelectorAll('.accordion');\r\n      for (let i = 0; i < accOneList.length; i++) {\r\n        accOneList[i].classList.remove('open');\r\n        accOneList[i].querySelector('.accordion-body').style.maxHeight = 0;\r\n        accOneList[i].querySelector('.accordion-body').setAttribute('tabindex', -1);\r\n        accOneList[i].querySelector('.accordion-body').setAttribute('aria-hidden', true);\r\n        accOneList[i].querySelector('.accordion-header').setAttribute('aria-expanded', false);\r\n      }\r\n    }\r\n  }\r\n  function accButtonOpenClose(_accWrap, _accBodyEl) {\r\n    if (_accWrap.classList.contains('open')) {\r\n      _accWrap.classList.remove('open');\r\n      _accBodyEl.style.maxHeight = 0;\r\n    } else {\r\n      _accWrap.classList.add('open');\r\n      _accBodyEl.style.maxHeight = _accBodyEl.scrollHeight + 'px';\r\n    }\r\n  }\r\n  // + 아코디언 모두닫힘\r\n  function accordionAllClose(_accEl) {\r\n    for (let i = 0; i < _accEl.length; i++) {\r\n      _accEl[i].classList.remove('open');\r\n      _accEl[i].querySelector('.accordion-body').setAttribute('tabindex', -1);\r\n      _accEl[i].querySelector('.accordion-body').setAttribute('aria-hidden', true);\r\n      _accEl[i].querySelector('.accordion-body').style.maxHeight = 0;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * terms\r\n   */\r\n  const TERMS_ELEM = document.querySelectorAll('.terms-box');\r\n  if (TERMS_ELEM.length > 0) termsComn(TERMS_ELEM);\r\n\r\n  // + 약관이 있으면\r\n  function termsComn(_elem) {\r\n    for (let i = 0; i < TERMS_ELEM.length; i++) {\r\n      const TERMS_INNER = TERMS_ELEM[i].querySelectorAll('.inner');\r\n      termsInner(TERMS_INNER, TERMS_ELEM[i]);\r\n    }\r\n  }\r\n  function termsInner(_inner, _elem) {\r\n    if (_inner.length > 0) for (let j = 0; j < _inner.length; j++) temrsRow(_inner[j], _elem);\r\n  }\r\n  // ++ 약관에 내용이 있으면\r\n  function temrsRow(_row, _elem) {\r\n    if (_row.scrollHeight > _elem.clientHeight + 2) {\r\n      const TERMS_ROW = _row.querySelectorAll('.terms-row');\r\n      termsAppend(TERMS_ROW, _elem, _row);\r\n    }\r\n  }\r\n  // +++ 약관에 내용이 길면\r\n  function termsAppend(_row, _elem, _rowEl) {\r\n    if (_row.length > 0) {\r\n      let scrollEl = document.createElement('div');\r\n      let scrollInner = document.createElement('span');\r\n      scrollEl.classList.add('terms_scroll');\r\n      scrollEl.setAttribute('aria-hidden', true);\r\n      scrollEl.appendChild(scrollInner);\r\n      // 스크롤바 element 만들기\r\n      _elem.appendChild(scrollEl);\r\n\r\n      // 스크롤바 scroll event\r\n      termsScrollEvent(_rowEl, scrollEl, scrollInner);\r\n    }\r\n  }\r\n  // ++++ 스크롤바 scroll event\r\n  function termsScrollEvent(_scrollBody, _scrollWrap, _scrollElem) {\r\n    let scrollRes = 0;\r\n    let isScrolling;\r\n    _scrollBody.addEventListener('scroll', function () {\r\n      window.clearTimeout(isScrolling);\r\n      if (this.scrollTop > 0) {\r\n        _scrollWrap.classList.add('show');\r\n        scrollRes = ((100 - _scrollElem.clientHeight) / (this.scrollHeight - this.clientHeight)) * this.scrollTop;\r\n        _scrollElem.style.top = `${scrollRes}%`;\r\n      } else {\r\n        _scrollElem.style.top = '0';\r\n      }\r\n      // scroll stop event\r\n      isScrolling = setTimeout(function () {\r\n        if (_scrollWrap.classList.contains('show')) _scrollWrap.classList.remove('show');\r\n      }, INTERVAL_1000);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * textarea\r\n   */\r\n  const TEXTAREA_ELEM = document.querySelectorAll('textarea');\r\n  if (TEXTAREA_ELEM.length > 0) for (let i = 0; i < TEXTAREA_ELEM.length; i++) textareaComn(TEXTAREA_ELEM[i]);\r\n  // + textarea가 있으면\r\n  function textareaComn(_elem) {\r\n    if (_elem.scrollHeight > _elem.clientHeight) textareaScrollbar(_elem);\r\n    // add scrollbar\r\n    _elem.addEventListener('input', function () {\r\n      if (this.scrollHeight > this.clientHeight) textareaScrollbar(_elem);\r\n    });\r\n  }\r\n  // + create textarea scrollbar\r\n  function textareaScrollbar(_elem) {\r\n    if (_elem.parentElement.querySelector('.textarea-scroll')) {\r\n      // has scrollbar\r\n    } else {\r\n      // null scrollbar\r\n      let scrollEl = document.createElement('div');\r\n      let scrollInner = document.createElement('span');\r\n      scrollEl.classList.add('textarea-scroll');\r\n      scrollEl.setAttribute('aria-hidden', true);\r\n      scrollEl.appendChild(scrollInner);\r\n      _elem.parentElement.appendChild(scrollEl);\r\n      // 스크롤바 scroll event\r\n      termsScrollEvent(_elem, scrollEl, scrollInner);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * input\r\n   */\r\n  const INPUT_ELEM = document.querySelectorAll('input');\r\n  if (INPUT_ELEM.length > 0) for (let i = 0; i < INPUT_ELEM.length; i++) inputComn(INPUT_ELEM[i]);\r\n  // input 공통 scritp\r\n  function inputComn(_elem) {\r\n    let inputTypeState = inputTypeCase(_elem);\r\n    inputFocusEvent(_elem, inputTypeState);\r\n  }\r\n  // + input type check\r\n  function inputTypeCase(_input) {\r\n    let inputCase = _input.type;\r\n    switch (inputCase) {\r\n      case 'text':\r\n      case 'password':\r\n      case 'number':\r\n        return 'default';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  // + input [text, password, number] focus event\r\n  function inputFocusEvent(_inputEl, _inputState) {\r\n    if (_inputState === 'default') inputFocusEvtComn(_inputEl);\r\n  }\r\n  function inputFocusEvtComn(_inputEl) {\r\n    _inputEl.addEventListener('focus', function () {\r\n      inputFocusEvtFloating(_inputEl);\r\n      inputFocusEvtModal();\r\n\r\n      let elTop = 0;\r\n      setTimeout(() => {\r\n        let elTopElem = _inputEl.closest('*[class^=\"c-input-\"]');\r\n        if (elTopElem) {\r\n          elTop = elTopElem.offsetTop;\r\n          // type-fulld\r\n          const PARENT_EL_FULL = _inputEl.closest('.c-container');\r\n          if (PARENT_EL_FULL) {\r\n            const PARENT_EL_HEADER = PARENT_EL_FULL.querySelector('.full-header');\r\n            if (PARENT_EL_HEADER) PARENT_EL_FULL.scrollTop = elTop - PARENT_EL_HEADER.clientHeight;\r\n          }\r\n          // type-modal\r\n          const PARENT_EL_MODAL = _inputEl.closest('.c-layer-popup.kmi-popup.type-modal.show');\r\n          if (PARENT_EL_MODAL) {\r\n            const MODAL_INNER = PARENT_EL_MODAL.querySelector('.modal-field');\r\n            if (MODAL_INNER) {\r\n              const MODAL_HEADER = MODAL_INNER.querySelector('.c-modal-header');\r\n              if (MODAL_HEADER) MODAL_INNER.scrollTop = elTop - MODAL_HEADER.clientHeight;\r\n            }\r\n          }\r\n          elTop = 0;\r\n        }\r\n      }, INTERVAL_100);\r\n      return false;\r\n    });\r\n    _inputEl.addEventListener('blur', function () {\r\n      // type-full\r\n      let floatinPopup = _inputEl.closest('.c-full-layer.kmi-popup.show');\r\n      if (floatinPopup) {\r\n        let floatingContainer = floatinPopup.querySelector('.c-container');\r\n        if (floatingContainer) {\r\n          const SCROLL_ELEM = floatingContainer.querySelector('.full-body');\r\n          if (SCROLL_ELEM) {\r\n            let floatingBtn = SCROLL_ELEM.querySelector('.btn-floating');\r\n\r\n            floatinPopup.classList.remove('input-focus');\r\n            if (floatinPopup.classList.contains('input-focus')) {\r\n              floatinPopup.classList.remove('input-focus');\r\n            }\r\n            if (SCROLL_ELEM.scrollHeight - 72 > SCROLL_ELEM.clientHeight) floatingBtn.classList.add('isScroll');\r\n          }\r\n        }\r\n      }\r\n\r\n      return false;\r\n    });\r\n  }\r\n  // ++ floating 버튼 있는 full 팝업\r\n  function inputFocusEvtFloating(_inputEl) {\r\n    let floatinPopup = document.querySelector('.c-full-layer.kmi-popup.show');\r\n    if (floatinPopup) {\r\n      let floatingContainer = floatinPopup.querySelector('.c-container');\r\n      let floatingBtn = floatinPopup.querySelector('.btn-floating');\r\n      if (floatingContainer && floatingBtn) inputFocusEvtFloatingBtn(floatinPopup, floatingContainer, floatingBtn, _inputEl);\r\n    }\r\n  }\r\n  function inputFocusEvtFloatingBtn(_floatinPopup, _floatingContainer, _floatingBtn, _inputEl) {\r\n    if (_floatinPopup.classList.contains('input-focus')) {\r\n      //\r\n    } else {\r\n      _floatinPopup.classList.add('input-focus');\r\n    }\r\n  }\r\n  // ++ modal 팝업\r\n  function inputFocusEvtModal() {\r\n    // let modalPopup = document.querySelector('.c-layer-popup.kmi-popup.show');\r\n    // if (modalPopup) {\r\n    //   modalPopup.classList.add('input-focus');\r\n    //   this.addEventListener('blur', () => {\r\n    //     modalPopup.classList.remove('input-focus');\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  /**\r\n   * #container scroll event\r\n   */\r\n  const CONTAINER_ELEM = document.querySelector('#container');\r\n  if (CONTAINER_ELEM) {\r\n    const FLEX_ELEM = CONTAINER_ELEM.querySelector('.flex-wrap');\r\n    if (!FLEX_ELEM.classList.contains('type-tab-scroll')) {\r\n      const MOVE_HEADER = CONTAINER_ELEM.querySelector('.header.co-header');\r\n      if (MOVE_HEADER) containerScrollEvent(MOVE_HEADER, CONTAINER_ELEM);\r\n    } else if (FLEX_ELEM.classList.contains('type-tab-scroll')) {\r\n      const MOVE_HEADER = CONTAINER_ELEM.querySelector('.header.co-header');\r\n      if (MOVE_HEADER) containerTabScrollEvent(MOVE_HEADER, CONTAINER_ELEM);\r\n    }\r\n    // custom 스크롤바 만들기\r\n    customScrollbar(CONTAINER_ELEM);\r\n  }\r\n  function containerScrollEvent(_moveHeader, _scrollEl) {\r\n    let headerHeight = _moveHeader.clientHeight;\r\n    let lastScrollTop = 0;\r\n    let scrollArr = [];\r\n    var isScrolling;\r\n\r\n    const BTN_BOTTOM_FLOATING = _scrollEl.querySelector('.btn-bottom-floating');\r\n    const CONTAINER_FOOTER = _scrollEl.querySelector('.footer');\r\n    const FLOATING_BLOCK_ARR = ['rv-block', 'rc-block'];\r\n    if (BTN_BOTTOM_FLOATING) {\r\n      const MARGIN_EL = BTN_BOTTOM_FLOATING.previousSibling.previousElementSibling;\r\n      if (MARGIN_EL) MARGIN_EL.style.marginBottom = '3.75rem';\r\n      FLOATING_BLOCK_ARR.map((el) => {\r\n        let blockEl = document.querySelector('.' + el);\r\n        if (blockEl) blockEl.classList.add('type-floating-btn');\r\n      });\r\n\r\n      if (CONTAINER_FOOTER) floatingBtnComn(_scrollEl, CONTAINER_FOOTER);\r\n      else floatingBtnComn(_scrollEl);\r\n    }\r\n\r\n    // move top button\r\n    const MOVE_TOP_BTN_ELEM = document.querySelector('.btn-move-top');\r\n    _scrollEl.addEventListener(\r\n      'scroll',\r\n      function (e) {\r\n        if (this.scrollTop > headerHeight) {\r\n          let st = this.pageYOffset || this.scrollTop;\r\n\r\n          if (st > lastScrollTop) {\r\n            // SCROLL: DOWN\r\n            // console.log('SCROLL DOWN');\r\n\r\n            _moveHeader.classList.add('scroll-hide');\r\n            if (document.querySelector('.flex-wrap').classList.contains('type-tab-scroll')) {\r\n              _moveHeader.classList.remove('scroll-hide');\r\n            }\r\n            // _moveHeader.classList.add('scroll-hide');\r\n            //}\r\n          } else {\r\n            // SCROLL: UP\r\n            scrollArr.push(st);\r\n            window.clearTimeout(isScrolling);\r\n            isScrolling = setTimeout(function () {\r\n              scrollArr = [];\r\n            }, 66);\r\n            if (Math.max.apply(Math, scrollArr) - Math.min.apply(Math, scrollArr) > SHOW_HEADER_NUM) {\r\n              _moveHeader.classList.remove('scroll-hide');\r\n              scrollArr = [];\r\n            }\r\n          }\r\n          lastScrollTop = st <= 0 ? 0 : st;\r\n        }\r\n\r\n        if (this.scrollTop <= _moveHeader.clientHeight) {\r\n          _moveHeader.classList.remove('scroll-hide');\r\n          scrollArr = [];\r\n        }\r\n\r\n        if (MOVE_TOP_BTN_ELEM) {\r\n          if (this.scrollTop <= 0) MOVE_TOP_BTN_ELEM.classList.add('hide');\r\n          else MOVE_TOP_BTN_ELEM.classList.remove('hide');\r\n        }\r\n\r\n        // 하단 고정 버튼이 있는 경우\r\n        if (BTN_BOTTOM_FLOATING) scrollingFloatingBtn(BTN_BOTTOM_FLOATING, this, CONTAINER_FOOTER);\r\n      },\r\n      false\r\n    );\r\n  }\r\n\r\n  // [Mod 230220]\r\n  // + touch move\r\n  function containerTabScrollEvent(_moveHeader, _scrollEl) {\r\n    let headerHeight = _moveHeader.clientHeight;\r\n    let lastScrollTop = 0;\r\n    let scrollArr = [];\r\n    var isScrolling;\r\n\r\n    const BTN_BOTTOM_FLOATING = _scrollEl.querySelector('.btn-bottom-floating');\r\n    const CONTAINER_FOOTER = _scrollEl.querySelector('.footer');\r\n    const FLOATING_BLOCK_ARR = ['rv-block', 'rc-block'];\r\n    if (BTN_BOTTOM_FLOATING) {\r\n      const MARGIN_EL = BTN_BOTTOM_FLOATING.previousSibling.previousElementSibling;\r\n      if (MARGIN_EL) MARGIN_EL.style.marginBottom = '3.75rem';\r\n      FLOATING_BLOCK_ARR.map((el) => {\r\n        let blockEl = document.querySelector('.' + el);\r\n        if (blockEl) blockEl.classList.add('type-floating-btn');\r\n      });\r\n\r\n      if (CONTAINER_FOOTER) floatingBtnComn(_scrollEl, CONTAINER_FOOTER);\r\n      else floatingBtnComn(_scrollEl);\r\n    }\r\n\r\n    // move top button\r\n    const MOVE_TOP_BTN_ELEM = document.querySelector('.btn-move-top');\r\n    _scrollEl.addEventListener(\r\n      'touchmove',\r\n      function (e) {\r\n        let SHOW_HEADER_NUM = '10';\r\n        if (this.scrollTop > headerHeight) {\r\n          let st = this.pageYOffset || this.scrollTop; // 현재 위치\r\n\r\n          if (st > lastScrollTop) {\r\n            // SCROLL: DOWN\r\n            // console.log('touch move scroll down');\r\n\r\n            _moveHeader.classList.add('scroll-hide');\r\n          } else {\r\n            // SCROLL: UP\r\n            scrollArr.push(st);\r\n\r\n            window.clearTimeout(isScrolling);\r\n            isScrolling = setTimeout(function () {\r\n              scrollArr = [];\r\n            }, 66);\r\n\r\n            if (Math.max.apply(Math, scrollArr) - Math.min.apply(Math, scrollArr) > SHOW_HEADER_NUM) {\r\n              _moveHeader.classList.remove('scroll-hide');\r\n              // console.log('Math.max.apply(Math, scrollArr)' + Math.max.apply(Math, scrollArr));\r\n              // console.log('Math.min.apply(Math, scrollArr)' + Math.min.apply(Math, scrollArr));\r\n              // console.log('SHOW_HEADER_NUM: ' + SHOW_HEADER_NUM);\r\n\r\n              scrollArr = [];\r\n            }\r\n          }\r\n          lastScrollTop = st <= 0 ? 0 : st;\r\n        }\r\n\r\n        // if (this.scrollTop <= _moveHeader.clientHeight) {\r\n        //   _moveHeader.classList.remove('scroll-hide');\r\n        //   scrollArr = [];\r\n        // }\r\n\r\n        if (MOVE_TOP_BTN_ELEM) {\r\n          if (this.scrollTop <= 0) MOVE_TOP_BTN_ELEM.classList.add('hide');\r\n          else MOVE_TOP_BTN_ELEM.classList.remove('hide');\r\n        }\r\n\r\n        // 하단 고정 버튼이 있는 경우\r\n        if (BTN_BOTTOM_FLOATING) scrollingFloatingBtn(BTN_BOTTOM_FLOATING, this, CONTAINER_FOOTER);\r\n      },\r\n      false\r\n    );\r\n  }\r\n\r\n  function floatingBtnComn(_scrollBody, ..._footer) {\r\n    if (_footer.length > 0) {\r\n      // console.log(_scrollBody.scrollHeight);\r\n      // console.log(_scrollBody.clientHeight + _footer[0].clientHeight + INVERTED);\r\n      if (_scrollBody.scrollHeight > _scrollBody.clientHeight + _footer[0].clientHeight + INVERTED) floatingBtnInner(true, _scrollBody);\r\n      else floatingBtnInner(false, _scrollBody);\r\n    } else {\r\n      if (_scrollBody.scrollHeight > _scrollBody.clientHeight + INVERTED) floatingBtnInner(true, _scrollBody);\r\n      else floatingBtnInner(false, _scrollBody);\r\n    }\r\n  }\r\n  function floatingBtnInner(_state, _el) {\r\n    switch (_state) {\r\n      case true:\r\n        _el.classList.add('isFloatingScroll');\r\n        scrollTopFake(_el);\r\n        break;\r\n      default:\r\n        _el.classList.remove('isFloatingScroll');\r\n        break;\r\n    }\r\n  }\r\n  function scrollingFloatingBtn(_floatingBtn, _this, _footer) {\r\n    const S_HEADER = _this.querySelector('.header.co-header');\r\n    const S_BTN = _this.querySelector('.btn-bottom-floating');\r\n    if (elTopArr.length < 10) {\r\n      elTopArr.push(_floatingBtn.offsetTop);\r\n      elTopArr.sort(function (a, b) {\r\n        if (a > b) return 1;\r\n        if (a === b) return 0;\r\n        if (a < b) return -1;\r\n      });\r\n    }\r\n    let min = 0;\r\n    if (_this.scrollTop <= 0) {\r\n      min = Math.min.apply(Math, elTopArr);\r\n    } else {\r\n      if (S_HEADER && S_BTN) {\r\n        min = _this.clientHeight - S_HEADER.clientHeight - S_BTN.clientHeight;\r\n      }\r\n    }\r\n    elTopRes = Math.ceil(_floatingBtn.offsetTop - _this.scrollTop);\r\n    if (min > elTopRes) {\r\n      _this.classList.remove('isFloatingScroll');\r\n    } else {\r\n      if (_footer)\r\n        if (_this.scrollHeight - _this.clientHeight - INVERTED > _footer.clientHeight) _this.classList.add('isFloatingScroll');\r\n        else _this.classList.add('isFloatingScroll');\r\n    }\r\n  }\r\n  function scrollTopFake(_scrollBody) {\r\n    _scrollBody.scrollTop += 1;\r\n    _scrollBody.scrollTop -= 1;\r\n  }\r\n\r\n  // container scrollbar resize\r\n  function containerResizeScrollbar() {\r\n    const CONTAINER_ELEM = document.getElementById('container');\r\n    if (CONTAINER_ELEM) customScrollbar(CONTAINER_ELEM);\r\n  }\r\n  // container bottom floating button\r\n  function containerResizeFloatingBtn() {\r\n    elTopArr = [];\r\n    const CONTAINER_ELEM = document.getElementById('container');\r\n    if (CONTAINER_ELEM) {\r\n      const CONTAINER_HEADER = CONTAINER_ELEM.querySelector('.header.co-header');\r\n      const CONTAINER_BTN = document.querySelector('.btn-bottom-floating');\r\n      if (CONTAINER_HEADER && CONTAINER_BTN) {\r\n        if (CONTAINER_ELEM.scrollHeight > CONTAINER_ELEM.clientHeight) {\r\n          let lRes = CONTAINER_ELEM.clientHeight - CONTAINER_HEADER.clientHeight - CONTAINER_BTN.clientHeight;\r\n          let rRes = Math.ceil(CONTAINER_BTN.offsetTop - CONTAINER_ELEM.scrollTop);\r\n          if (lRes > rRes) CONTAINER_ELEM.classList.remove('isFloatingScroll');\r\n          else CONTAINER_ELEM.classList.add('isFloatingScroll');\r\n        }\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * 최상단 스크롤 이동 버튼 click event\r\n   */\r\n  const BTN_MOVE_TOP_ELEM = document.querySelector('.btn-move-top');\r\n  if (BTN_MOVE_TOP_ELEM) {\r\n    const SCROLLING_ELEM = document.getElementById('container');\r\n    if (SCROLLING_ELEM) {\r\n      if (SCROLLING_ELEM.scrollTop <= 0) BTN_MOVE_TOP_ELEM.classList.add('hide');\r\n      BTN_MOVE_TOP_ELEM.addEventListener('click', () => {\r\n        scrollToItemId(SCROLLING_ELEM.id);\r\n      });\r\n    }\r\n  }\r\n  // + pure js animate\r\n  function scrollToItemId(containerId) {\r\n    var scrollContainer = document.getElementById(containerId);\r\n\r\n    var from = scrollContainer.scrollTop;\r\n    let by = scrollContainer.scrollTop * -1;\r\n    var currentIteration = 0;\r\n    var animIterations = Math.round(60 * SCROLL_TIME);\r\n    (function scroll() {\r\n      var value = easeOutCubic(currentIteration, from, by, animIterations);\r\n      scrollContainer.scrollTop = value;\r\n      currentIteration++;\r\n      if (currentIteration < animIterations) requestAnimationFrame(scroll);\r\n    })();\r\n  }\r\n  // ++ linearEase\r\n  function linearEase(currentIteration, startValue, changeInValue, totalIterations) {\r\n    return (changeInValue * currentIteration) / totalIterations + startValue;\r\n  }\r\n  // ++ easeOutCubic\r\n  function easeOutCubic(currentIteration, startValue, changeInValue, totalIterations) {\r\n    return changeInValue * (Math.pow(currentIteration / totalIterations - 1, 3) + 1) + startValue;\r\n  }\r\n\r\n  /**\r\n   * floating tab\r\n   */\r\n  const STICKYELM = document.querySelector('.tab-floating');\r\n  if (STICKYELM) {\r\n    const scrollEl = document.querySelector('#container');\r\n    if (scrollEl) {\r\n      let tabOffsetTop = STICKYELM.offsetTop;\r\n      scrollEl.addEventListener('scroll', () => {\r\n        stickyElComn(STICKYELM, tabOffsetTop);\r\n      });\r\n    }\r\n  }\r\n  function stickyElComn(_el, _top) {\r\n    // scrolling\r\n    let tabOffsetTopScroll = _el.offsetTop;\r\n    if (tabOffsetTopScroll <= _top) _el.classList.remove('isScroll');\r\n    else _el.classList.add('isScroll');\r\n  }\r\n\r\n  /**\r\n   * custom scrollbar\r\n   */\r\n  // common formula\r\n  // + popup: modal header\r\n  let scrollElHeight = (_body, _header) => parseFloat(_body.clientHeight - _header.clientHeight - 20) + 'px';\r\n  let scrollStyleTop = (_header) => parseFloat(_header.clientHeight) + 'px';\r\n  let innerStyleHeight = (_body, _header) => (_body.clientHeight - _header.clientHeight) * ((_body.clientHeight - _header.clientHeight) / (_body.scrollHeight - _header.clientHeight)) + 'px';\r\n  // + popup: full\r\n  let innerStyleHeightFull = (_body, _header) => (_body.clientHeight - _header.clientHeight) * ((_body.clientHeight - _header.clientHeight) / (_body.scrollHeight - _header.clientHeight)) + 'px';\r\n  // + popup: full footer\r\n  let innerStyleHeightFooter = (_body, _header) => (_body.clientHeight - _header.clientHeight) * ((_body.clientHeight - _header.clientHeight) / (_body.scrollHeight - _header.clientHeight)) + 'px';\r\n  // + container\r\n  let scrollElHeightCon = (_body) => _body.clientHeight - 24 + 'px';\r\n  let innerStyleHeightCon = (_body) => (_body.clientHeight * _body.clientHeight) / _body.scrollHeight + 'px';\r\n  // common create scrollbar\r\n  function customScrollbar(_elem, ..._state) {\r\n    if (_state.length > 0) {\r\n      // popup - modal: .modal-field\r\n      if (_state[0] === 'modal') scrollDesignPopModalHeader(_elem);\r\n      // popup - full: .full-body\r\n      if (_state[0] === 'full') scrollDesignPopFullLayer(_elem);\r\n      // popup - full-footer: c-container\r\n      if (_state[0] === 'full-footer') scrollDesignPopFullFooter(_elem);\r\n    } else {\r\n      // container\r\n      scrollDesignContainer(_elem);\r\n    }\r\n  }\r\n  // container\r\n  function scrollDesignContainer(_container) {\r\n    const CUSTOMER_SCROLL = _container.querySelector('.kmi-scroll');\r\n    if (CUSTOMER_SCROLL) {\r\n      const CUSTOMER_SCROLL_INNER = CUSTOMER_SCROLL.querySelector('span');\r\n      if (CUSTOMER_SCROLL_INNER) addStyle('container', CUSTOMER_SCROLL, CUSTOMER_SCROLL_INNER, _container);\r\n    } else {\r\n      scrollbarCreate(_container);\r\n    }\r\n  }\r\n  // popup: full\r\n  function scrollDesignPopFullLayer(_elem) {\r\n    const POPUP_SCROLL_ELEM = _elem.querySelector('.c-container');\r\n    if (POPUP_SCROLL_ELEM) {\r\n      const POPUP_HEADER = POPUP_SCROLL_ELEM.querySelector('.full-header');\r\n      const POPUP_BODY = POPUP_SCROLL_ELEM.querySelector('.full-body');\r\n      const CUSTOMER_SCROLL = POPUP_SCROLL_ELEM.querySelector('.kmi-scroll');\r\n      if (POPUP_HEADER && POPUP_BODY) fullLayerScrollbarComn(POPUP_BODY, CUSTOMER_SCROLL, POPUP_HEADER);\r\n    }\r\n  }\r\n  // popup: full footer\r\n  function scrollDesignPopFullFooter(_elem) {\r\n    const POPUP_SCROLL_ELEM = _elem.querySelector('.c-container');\r\n    if (POPUP_SCROLL_ELEM) {\r\n      const POPUP_HEADER = POPUP_SCROLL_ELEM.querySelector('.full-header');\r\n      const POPUP_BODY = POPUP_SCROLL_ELEM.querySelector('.full-body');\r\n      const CUSTOMER_SCROLL = POPUP_SCROLL_ELEM.querySelector('.kmi-scroll');\r\n      if (POPUP_HEADER && POPUP_BODY) fullLayerScrollbarComn(POPUP_SCROLL_ELEM, CUSTOMER_SCROLL, POPUP_HEADER);\r\n    }\r\n  }\r\n  // popup: modal header\r\n  function scrollDesignPopModalHeader(_elem) {\r\n    const POPUP_SCROLL_ELEM = _elem.querySelector('.modal-field');\r\n    if (POPUP_SCROLL_ELEM) {\r\n      const POPUP_HEADER = POPUP_SCROLL_ELEM.querySelector('.c-modal-header');\r\n      const POPUP_BODY = POPUP_SCROLL_ELEM.querySelector('.c-modal-body');\r\n      const CUSTOMER_SCROLL = POPUP_SCROLL_ELEM.querySelector('.kmi-scroll');\r\n      if (POPUP_HEADER && POPUP_BODY) modalHeaderScrollbarComn(POPUP_SCROLL_ELEM, CUSTOMER_SCROLL, POPUP_HEADER);\r\n    }\r\n  }\r\n  // + modal heder create scrollbar comn\r\n  function modalHeaderScrollbarComn(_wrap, _scrollEl, _header) {\r\n    if (_scrollEl) {\r\n      const CUSTOMER_SCROLL_INNER = _scrollEl.querySelector('span');\r\n      // add style\r\n      if (CUSTOMER_SCROLL_INNER) addStyle('modal', _scrollEl, CUSTOMER_SCROLL_INNER, _wrap, _header);\r\n    } else {\r\n      // create element\r\n      scrollbarCreate(_wrap, _header);\r\n    }\r\n    // scroll event: isScroll check\r\n    popupModalHeaderScrollEvt(_wrap, _header);\r\n  }\r\n  // + full layer create scrollbar comn\r\n  function fullLayerScrollbarComn(_wrap, _scrollEl, _header) {\r\n    if (_scrollEl) {\r\n      const CUSTOMER_SCROLL_INNER = _scrollEl.querySelector('span');\r\n      if (CUSTOMER_SCROLL_INNER) {\r\n        // add style\r\n        addStyle('full', _scrollEl, CUSTOMER_SCROLL_INNER, _wrap, _header);\r\n      }\r\n    } else {\r\n      // create element\r\n      scrollbarCreate(_wrap, _header);\r\n    }\r\n  }\r\n  // ++ create element\r\n  function scrollbarCreate(_scrollEl, _popHeader) {\r\n    let scrollEl = document.createElement('div');\r\n    let scrollInner = document.createElement('span');\r\n    scrollEl.classList.add('kmi-scroll');\r\n    scrollEl.setAttribute('aria-hidden', true);\r\n    scrollEl.appendChild(scrollInner);\r\n    _scrollEl.appendChild(scrollEl);\r\n\r\n    // add style\r\n    // modal\r\n    if (scrollEl.closest('.type-modal')) {\r\n      addStyle('modal', scrollEl, scrollInner, _scrollEl, _popHeader);\r\n    }\r\n    // full\r\n    else if (scrollEl.closest('.type-full')) {\r\n      addStyle('full', scrollEl, scrollInner, _scrollEl, _popHeader);\r\n    }\r\n    // full-footer\r\n    else if (scrollEl.closest('.type-full-footer')) {\r\n      addStyle('full-footer', scrollEl, scrollInner, _scrollEl, _popHeader);\r\n    }\r\n    // container\r\n    else {\r\n      addStyle('container', scrollEl, scrollInner, _scrollEl);\r\n    }\r\n  }\r\n  // ++ add style\r\n  function addStyle(_type, _scrollEl, _scrollInner, _popScrollEl, _popHeader) {\r\n    setTimeout(() => {\r\n      if (_type === 'modal') {\r\n        _scrollEl.style.height = scrollElHeight(_popScrollEl, _popHeader);\r\n        _scrollEl.style.top = scrollStyleTop(_popHeader);\r\n        _scrollInner.style.height = innerStyleHeight(_popScrollEl, _popHeader);\r\n      }\r\n      if (_type === 'full') {\r\n        _scrollInner.style.height = innerStyleHeightFull(_popScrollEl, _popHeader);\r\n      }\r\n      if (_type === 'full-footer') {\r\n        _scrollInner.style.height = innerStyleHeightFooter(_popScrollEl, _popHeader);\r\n      }\r\n      if (_type === 'container') {\r\n        _scrollEl.style.height = scrollElHeightCon(_popScrollEl);\r\n        _scrollInner.style.height = innerStyleHeightCon(_popScrollEl);\r\n      }\r\n\r\n      // scroll event\r\n      scrollDesignScrollEvt(_type, _popScrollEl, _scrollEl, _scrollInner);\r\n    }, INTERVAL_1);\r\n  }\r\n  // +++ scroll event\r\n  function scrollDesignScrollEvt(_type, _sclBody, _sclBar, _sclThum) {\r\n    let sclBarTop = parseInt(_sclBar.style.top);\r\n    let isScrolling;\r\n    _sclBody.addEventListener('scroll', function () {\r\n      if (this.scrollTop > 0) {\r\n        if (_type === 'modal') _sclBar.style.top = parseFloat(sclBarTop + this.scrollTop) + 'px';\r\n        _sclBar.classList.add('show');\r\n        _sclThum.style.top = this.scrollTop / ((this.scrollHeight - this.clientHeight + _sclBar.clientHeight) / 100) + '%';\r\n      } else {\r\n        if (_type === 'modal') _sclBar.style.top = sclBarTop + 'px';\r\n        _sclThum.style.top = '0';\r\n      }\r\n      // scroll stop event\r\n      window.clearTimeout(isScrolling);\r\n      isScrolling = setTimeout(function () {\r\n        if (_sclBar.classList.contains('show')) _sclBar.classList.remove('show');\r\n      }, INTERVAL_1000);\r\n    });\r\n  }\r\n}\r\n"],"mappings":"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"}